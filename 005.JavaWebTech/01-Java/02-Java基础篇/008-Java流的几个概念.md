下面具体来看看java中的几种流



> **IO/BIO**



BIO就是指IO，即传统的Blocking IO,即同步并阻塞的IO。这也是jdk1.4之前的唯一选择，依赖于ServerSocket实现，即一个请求对应一个线程，如果线程数不够连接则会等待空余线程或者拒绝连接。所以用这种方式，在高并发情况下效率是很低的，也不可靠，一般只应用于连接数比较小且固定架构的应用，但api也比较容易使用。



> **NIO**



新的IO,即New IO或者Non-Blocking IO,即同步不阻塞的IO。jdk1.4之后提供了一系列的方法来操作流，定义在java.nio包下面。相比于传统的BIO,NIO 提供了高速的面向快的I/O,它加入了Buffer、Channel、Selector等概念。它是基于事件驱动的，采用了Reactor模式，它使用一个线程管理所有的socket通道，即客户端发送的连接请求都会注册到多路复用器上，多路复用器轮询到连接有I/O请求时才启动一个线程进行处理。它的特点是要不断主动地去询问数据有没有处理完，一般只适用于连接数目较大但连接时间短的应用，如聊天应用等。



> **AIO**



新的IO2.0，即NIO2.0，jdk1.7开始应用，叫做异步不阻塞的IO。AIO引入异常通道的概念，采用了Proactor模式，简化了程序编写，一个有效的请求才启动一个线程，它的特点是先由操作系统完成后才通知服务端程序启动线程去处理，一般适用于连接数较多且连接时间长的应用。





几种IO的综合对比：



|               | BIO    | NIO      | AIO    |
| ------------- | ------ | -------- | ------ |
| 客户端:线程数 | 1:1    | M:1      | M:0    |
| 阻塞类型      | 阻塞   | 非阻塞   | 非阻塞 |
| 同步类型      | 同步   | 同步     | 异步   |
| 编程难度      | 简单   | 非常复杂 | 复杂   |
| 调试难度      | 简单   | 复杂     | 复杂   |
| 可靠性        | 非常差 | 高       | 高     |
| 吞吐量        | 低     | 高       | 高     |



java提供的NIO的api使用比较复杂，一般建议使用像netty这样的框架，而不要使用jdk自带的api。