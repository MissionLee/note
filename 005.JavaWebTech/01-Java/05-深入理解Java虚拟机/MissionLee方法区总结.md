# 方法区-这个不好，还是需要参考其他内容

## 方法区的作用

存储类信息

## 存储

> 以类为单位，每个类存储以下的内容

每个Class

- 类型信息

  - 类型的全限定名
  - 超类的全限定名
  - 直接超接口的全限定名
  - 类型标志 ： 该类是类还是接口
  - 类的访问描述符（public、private、default、abstract、final、static）

- 类型的常量池

  -  存放该类型所用到的常量的有序集合，包括
    - 直接常量（如字符串、整数、浮点数的常量）
    - 对其他类型、字段、方法的符号引用。
  - 常量池中每一个保存的常量都有一个索引，就像数组中的字段一样。因为常量池中保存中所有类型使用到的类型、字段、方法的字符引用，所以它也是动态连接的主要对象（在动态链接中起到核心作用）。

- 字段信息

  - 每个字段存储以下内容
    - 字段修饰符（public、protect、private、default）
    - 字段的类型
    - 字段名称

- 方法信息

  - 每个方法
    - 方法修饰符
    - 方法返回类型
    - 方法名
    - 方法参数个数、类型、顺序等
    - 方法字节码
    - 操作数栈和该方法在栈帧中的局部变量区大小
    - 异常表

- 类变量（静态变量）

- 指向类加载器的引用

- 指向Class实例的引用

  - 类加载的过程中，虚拟机会创建该类型的Class实例，方法区中必须保存对该对象的引用。通过Class.forName(String className)来查找获得该实例的引用，然后创建该类的对象。

- 方法表

  - 为了提高访问效率，JVM可能会对每个装载的非抽象类，都创建一个数组，数组的每个元素是实例可能调用的方法的直接引用，包括父类中继承过来的方法。这个表在抽象类或者接口中是没有的，类似C++虚函数表vtbl。
  - 运行时常量池(Runtime Constant Pool)



  ### 运行时常量池


## 常量池

常量池的内容

- 字面量
  - 文本字符串
  - 被声明为final的常量值
  - 基本数据类型的值
  - 其他
- 符号引用
  - 类和结构的完全限定名
  - 字段名称和描述符
  - 方法名称和描述符