<!DOCTYPE html>
<!-- saved from url=(0036)http://dblab.xmu.edu.cn/blog/2204-2/ -->
<html lang="zh-CN"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="renderer" content="webkit">
<link rel="dns-prefetch" href="http://cdn.staticfile.org/">
<link rel="dns-prefetch" href="http://s.w.org/">
<link rel="stylesheet" id="yarppWidgetCss-css" href="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/widget.css" type="text/css" media="all">
<link rel="stylesheet" id="wp-quicklatex-format-css" href="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/quicklatex-format.css" type="text/css" media="all">
<link rel="stylesheet" id="bootstrap-css" href="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/bootstrap.min.css" type="text/css" media="all">
<link rel="stylesheet" id="font-awesome-css" href="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/font-awesome.min.css" type="text/css" media="all">
<link rel="stylesheet" id="power-css" href="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/style.css" type="text/css" media="all">
<link rel="stylesheet" id="google-code-prettify-css" href="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/prettify.css" type="text/css" media="all">
<script src="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/hm.js.下载"></script><script src="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/z_stat.php"></script><script type="text/javascript" src="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/jquery.min.js.下载"></script>
<script type="text/javascript" src="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/jquery.js.下载"></script>
<script type="text/javascript" src="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/jquery-migrate.min.js.下载"></script>
<script type="text/javascript" src="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/wp-quicklatex-frontend.js.下载"></script>
<link rel="https://api.w.org/" href="http://dblab.xmu.edu.cn/blog/wp-json/">
<link rel="prev" title="通知：关闭网站3天（6月2日-4日）" href="http://dblab.xmu.edu.cn/blog/2203-2/">
<link rel="canonical" href="http://dblab.xmu.edu.cn/blog/2204-2/">
<link rel="alternate" type="application/json+oembed" href="http://dblab.xmu.edu.cn/blog/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fdblab.xmu.edu.cn%2Fblog%2F2204-2%2F">
<link rel="alternate" type="text/xml+oembed" href="http://dblab.xmu.edu.cn/blog/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fdblab.xmu.edu.cn%2Fblog%2F2204-2%2F&amp;format=xml">
<!--[if lt IE 9]>
<script src="http://dblab.xmu.edu.cn/blog/wp-content/themes/power/js/html5shiv.js"></script>
<![endif]-->
</head>

<body class="post-template-default single single-post postid-2204 single-format-standard group-blog">
<div class="container site-page">

<div class="row">
	<div class="col-sm-3 site-infos">
		<h4 class="site-title">
			<a href="http://dblab.xmu.edu.cn/blog/" title="厦大数据库实验室博客" rel="home">厦大数据库实验室博客</a>
		</h4>
		<div class="site-description">总结、分享、收获<p><a href="http://dblab.xmu.edu.cn/" title="厦大数据库实验室">实验室主页</a></p></div>

		<nav class="main-navigation" role="navigation">
			<div class="menu-primary-container"><ul id="menu-primary" class="menu menu-level-1"><li id="menu-item-80" class="menu-item item-level-1"><a href="http://dblab.xmu.edu.cn/blog/">首页</a></li>
<li id="menu-item-85" class="menu-item item-level-1 current-path"><a href="http://dblab.xmu.edu.cn/blog/category/big-data/">大数据</a></li>
<li id="menu-item-676" class="menu-item item-level-1"><a href="http://dblab.xmu.edu.cn/blog/category/databases/">数据库</a></li>
<li id="menu-item-87" class="menu-item item-level-1"><a href="http://dblab.xmu.edu.cn/blog/category/data-mining/">数据挖掘</a></li>
<li id="menu-item-86" class="menu-item item-level-1"><a href="http://dblab.xmu.edu.cn/blog/category/others/">其他</a></li>
</ul></div>		</nav><!-- #site-navigation -->

		<div class="search"><form role="search" method="get" class="search-form" action="http://dblab.xmu.edu.cn/blog/">
				<label>
					<span class="screen-reader-text">搜索：</span>
					<input type="search" class="search-field" placeholder="搜索…" value="" name="s">
				</label>
				<input type="submit" class="search-submit" value="搜索">
			</form></div>
	</div>
	<div class="col-sm-9 site-main">

					<article id="post-2204" class="post-2204 post type-post status-publish format-standard hentry category-big-data">
	<header class="entry-header">
		<h1 class="entry-title">Spring+SpringMVC+Mybatis开发简明教程</h1>

		<div class="entry-meta">
			<span class="author"><i class="fa fa-user"></i> 林子雨老师</span><span class="date"><i class="fa fa-calendar"></i> <time datetime="2018-06-04T10:45:32+00:00">2018年6月4日</time> <span class="updated">(updated: <time class="updated" datetime="2018-06-18T16:25:36+00:00">2018年6月18日</time>)</span></span><span class="views" id="views"><i class="fa fa-eye"></i> 529</span>		</div><!-- .entry-meta -->
	</header><!-- .entry-header -->

	<div class="entry-content">
		<div class="bigdata-book">
			<a href="http://dblab.xmu.edu.cn/post/bigdata/" title="大数据技术原理与应用" target="_blank"><img src="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/bigdata-poster.png" alt="大数据技术原理与应用"></a>
		</div>
		<p>在进行大数据综合案例开发的时候，在进行可视化时，常常会使用到网页对数据分析结果进行可视化展现，对于一些复杂的应用，需要使用Spring+SpringMVC+Mybatis这种组合框架进行开发。为了顺利完成相关的大数据综合实验案例，特此制作Spring+SpringMVC+Mybatis开发简明教程，可以帮助读者迅速掌握相应的开发方法，提高学习效率。<br>
<span id="more-2204"></span></p>
<h2>创建工程文件</h2>
<p>启动IntelliJ IDEA，在菜单中选择“File–&gt;New–&gt;Project”，在IntelliJ IDEA中新建一个Maven工程，如下图所示，选择Maven工程，点击“Next”按钮：<br>
<img src="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/SpringMVC01-1.png" alt="" title=""><br>
然后，在下图中，在“GroupID”中填入“dblab”，在ArtifactID中填入“WebDemo”，点击“Next”按钮：<br>
<img src="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/SpringMVC01-2.png" alt="" title=""><br>
然后，如下图所示，在Project Name中填入“WebDemo”，点击“Finish”按钮：<br>
<img src="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/SpringMVC01-3.png" alt="" title=""><br>
然后，在WebDemo工程界面中，按照下图所示的目录结构，创建相应的文件夹和文件。<br>
<img src="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/SpringMVC01.png" alt="" title=""></p>
<p>在pom.xml文件中，删除原来的内容，把下面内容复制粘贴进去：</p>
<div class="code-pretty-container"><pre class="prettyprint linenums lang-xml prettyprinted" style=""><ol class="linenums"><li class="L0"><span class="pun">&lt;?</span><span class="pln">xml version</span><span class="pun">=</span><span class="str">"1.0"</span><span class="pln"> encoding</span><span class="pun">=</span><span class="str">"UTF-8"</span><span class="pun">?&gt;</span></li><li class="L1"><span class="tag">&lt;project</span><span class="pln"> </span><span class="atn">xmlns</span><span class="pun">=</span><span class="atv">"http://maven.apache.org/POM/4.0.0"</span><span class="pln"> </span><span class="atn">xmlns:xsi</span><span class="pun">=</span><span class="atv">"http://www.w3.org/2001/XMLSchema-instance"</span></li><li class="L2"><span class="pln">         </span><span class="atn">xsi:schemaLocation</span><span class="pun">=</span><span class="atv">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd"</span><span class="tag">&gt;</span></li><li class="L3"><span class="pln">    </span><span class="tag">&lt;modelVersion&gt;</span><span class="pln">4.0.0</span><span class="tag">&lt;/modelVersion&gt;</span></li><li class="L4"><span class="pln">    </span><span class="tag">&lt;groupId&gt;</span><span class="pln">dblab</span><span class="tag">&lt;/groupId&gt;</span></li><li class="L5"><span class="pln">    </span><span class="tag">&lt;artifactId&gt;</span><span class="pln">WebDemo</span><span class="tag">&lt;/artifactId&gt;</span></li><li class="L6"><span class="pln">    </span><span class="tag">&lt;packaging&gt;</span><span class="pln">war</span><span class="tag">&lt;/packaging&gt;</span></li><li class="L7"><span class="pln">    </span><span class="tag">&lt;version&gt;</span><span class="pln">1.0-SNAPSHOT</span><span class="tag">&lt;/version&gt;</span></li><li class="L8"><span class="pln">    </span><span class="tag">&lt;name&gt;</span><span class="pln">ssm Maven Webapp</span><span class="tag">&lt;/name&gt;</span></li><li class="L9"><span class="pln">    </span><span class="tag">&lt;url&gt;</span><span class="pln">http://maven.apache.org</span><span class="tag">&lt;/url&gt;</span></li><li class="L0"><span class="pln">&nbsp;</span></li><li class="L1"><span class="pln">    </span><span class="com">&lt;!--此处统一配置版本信息--&gt;</span></li><li class="L2"><span class="pln">    </span><span class="tag">&lt;properties&gt;</span></li><li class="L3"><span class="pln">        </span><span class="com">&lt;!-- spring版本 --&gt;</span></li><li class="L4"><span class="pln">        </span><span class="tag">&lt;springVersion&gt;</span><span class="pln">4.3.1.RELEASE</span><span class="tag">&lt;/springVersion&gt;</span></li><li class="L5"><span class="pln">        </span><span class="com">&lt;!-- mybatis版本 --&gt;</span></li><li class="L6"><span class="pln">        </span><span class="tag">&lt;mybatis.version&gt;</span><span class="pln">3.2.6</span><span class="tag">&lt;/mybatis.version&gt;</span></li><li class="L7"><span class="pln">        </span><span class="com">&lt;!--&lt;mysqlVersion&gt;6.0.3&lt;/mysqlVersion&gt;--&gt;</span></li><li class="L8"><span class="pln">        </span><span class="tag">&lt;mysqlVersion&gt;</span><span class="pln">5.1.38</span><span class="tag">&lt;/mysqlVersion&gt;</span></li><li class="L9"><span class="pln">&nbsp;</span></li><li class="L0"><span class="pln">        </span><span class="tag">&lt;lombokVersion&gt;</span><span class="pln">1.16.10</span><span class="tag">&lt;/lombokVersion&gt;</span></li><li class="L1"><span class="pln">        </span><span class="tag">&lt;log4jVersion&gt;</span><span class="pln">1.2.17</span><span class="tag">&lt;/log4jVersion&gt;</span></li><li class="L2"><span class="pln">        </span><span class="tag">&lt;slf4jVersion&gt;</span><span class="pln">1.7.7</span><span class="tag">&lt;/slf4jVersion&gt;</span></li><li class="L3"><span class="pln">        </span><span class="tag">&lt;fileuploadVersion&gt;</span><span class="pln">1.3.1</span><span class="tag">&lt;/fileuploadVersion&gt;</span></li><li class="L4"><span class="pln">        </span><span class="tag">&lt;jstlVersion&gt;</span><span class="pln">1.2</span><span class="tag">&lt;/jstlVersion&gt;</span></li><li class="L5"><span class="pln">        </span><span class="com">&lt;!--&lt;taglibVersion&gt;1.1.2&lt;/taglibVersion&gt;--&gt;</span></li><li class="L6"><span class="pln">        </span><span class="com">&lt;!--&lt;servletVersion&gt;3.0-alpha-1&lt;/servletVersion&gt;--&gt;</span></li><li class="L7"><span class="pln">    </span><span class="tag">&lt;/properties&gt;</span></li><li class="L8"><span class="pln">&nbsp;</span></li><li class="L9"><span class="pln">    </span><span class="tag">&lt;dependencies&gt;</span></li><li class="L0"><span class="pln">        </span><span class="tag">&lt;dependency&gt;</span></li><li class="L1"><span class="pln">            </span><span class="tag">&lt;groupId&gt;</span><span class="pln">junit</span><span class="tag">&lt;/groupId&gt;</span></li><li class="L2"><span class="pln">            </span><span class="tag">&lt;artifactId&gt;</span><span class="pln">junit</span><span class="tag">&lt;/artifactId&gt;</span></li><li class="L3"><span class="pln">            </span><span class="tag">&lt;version&gt;</span><span class="pln">3.8.1</span><span class="tag">&lt;/version&gt;</span></li><li class="L4"><span class="pln">            </span><span class="tag">&lt;scope&gt;</span><span class="pln">test</span><span class="tag">&lt;/scope&gt;</span></li><li class="L5"><span class="pln">        </span><span class="tag">&lt;/dependency&gt;</span></li><li class="L6"><span class="pln">&nbsp;</span></li><li class="L7"><span class="pln">        </span><span class="com">&lt;!-- spring--&gt;</span></li><li class="L8"><span class="pln">        </span><span class="tag">&lt;dependency&gt;</span></li><li class="L9"><span class="pln">            </span><span class="tag">&lt;groupId&gt;</span><span class="pln">org.springframework</span><span class="tag">&lt;/groupId&gt;</span></li><li class="L0"><span class="pln">            </span><span class="tag">&lt;artifactId&gt;</span><span class="pln">spring-beans</span><span class="tag">&lt;/artifactId&gt;</span></li><li class="L1"><span class="pln">            </span><span class="tag">&lt;version&gt;</span><span class="pln">${springVersion}</span><span class="tag">&lt;/version&gt;</span></li><li class="L2"><span class="pln">        </span><span class="tag">&lt;/dependency&gt;</span></li><li class="L3"><span class="pln">&nbsp;</span></li><li class="L4"><span class="pln">        </span><span class="tag">&lt;dependency&gt;</span></li><li class="L5"><span class="pln">            </span><span class="tag">&lt;groupId&gt;</span><span class="pln">org.springframework</span><span class="tag">&lt;/groupId&gt;</span></li><li class="L6"><span class="pln">            </span><span class="tag">&lt;artifactId&gt;</span><span class="pln">spring-core</span><span class="tag">&lt;/artifactId&gt;</span></li><li class="L7"><span class="pln">            </span><span class="tag">&lt;version&gt;</span><span class="pln">${springVersion}</span><span class="tag">&lt;/version&gt;</span></li><li class="L8"><span class="pln">        </span><span class="tag">&lt;/dependency&gt;</span></li><li class="L9"><span class="pln">&nbsp;</span></li><li class="L0"><span class="pln">        </span><span class="tag">&lt;dependency&gt;</span></li><li class="L1"><span class="pln">            </span><span class="tag">&lt;groupId&gt;</span><span class="pln">org.springframework</span><span class="tag">&lt;/groupId&gt;</span></li><li class="L2"><span class="pln">            </span><span class="tag">&lt;artifactId&gt;</span><span class="pln">spring-context</span><span class="tag">&lt;/artifactId&gt;</span></li><li class="L3"><span class="pln">            </span><span class="tag">&lt;version&gt;</span><span class="pln">${springVersion}</span><span class="tag">&lt;/version&gt;</span></li><li class="L4"><span class="pln">        </span><span class="tag">&lt;/dependency&gt;</span></li><li class="L5"><span class="pln">        </span><span class="tag">&lt;dependency&gt;</span></li><li class="L6"><span class="pln">            </span><span class="tag">&lt;groupId&gt;</span><span class="pln">org.springframework</span><span class="tag">&lt;/groupId&gt;</span></li><li class="L7"><span class="pln">            </span><span class="tag">&lt;artifactId&gt;</span><span class="pln">spring-orm</span><span class="tag">&lt;/artifactId&gt;</span></li><li class="L8"><span class="pln">            </span><span class="tag">&lt;version&gt;</span><span class="pln">${springVersion}</span><span class="tag">&lt;/version&gt;</span></li><li class="L9"><span class="pln">        </span><span class="tag">&lt;/dependency&gt;</span></li><li class="L0"><span class="pln">&nbsp;</span></li><li class="L1"><span class="pln">        </span><span class="com">&lt;!-- spring web + spring MVC--&gt;</span></li><li class="L2"><span class="pln">        </span><span class="tag">&lt;dependency&gt;</span></li><li class="L3"><span class="pln">            </span><span class="tag">&lt;groupId&gt;</span><span class="pln">org.springframework</span><span class="tag">&lt;/groupId&gt;</span></li><li class="L4"><span class="pln">            </span><span class="tag">&lt;artifactId&gt;</span><span class="pln">spring-web</span><span class="tag">&lt;/artifactId&gt;</span></li><li class="L5"><span class="pln">            </span><span class="tag">&lt;version&gt;</span><span class="pln">${springVersion}</span><span class="tag">&lt;/version&gt;</span></li><li class="L6"><span class="pln">        </span><span class="tag">&lt;/dependency&gt;</span></li><li class="L7"><span class="pln">        </span><span class="tag">&lt;dependency&gt;</span></li><li class="L8"><span class="pln">            </span><span class="tag">&lt;groupId&gt;</span><span class="pln">org.springframework</span><span class="tag">&lt;/groupId&gt;</span></li><li class="L9"><span class="pln">            </span><span class="tag">&lt;artifactId&gt;</span><span class="pln">spring-webmvc</span><span class="tag">&lt;/artifactId&gt;</span></li><li class="L0"><span class="pln">            </span><span class="tag">&lt;version&gt;</span><span class="pln">${springVersion}</span><span class="tag">&lt;/version&gt;</span></li><li class="L1"><span class="pln">        </span><span class="tag">&lt;/dependency&gt;</span></li><li class="L2"><span class="pln">&nbsp;</span></li><li class="L3"><span class="pln">        </span><span class="com">&lt;!-- mybatis核心包 --&gt;</span></li><li class="L4"><span class="pln">        </span><span class="tag">&lt;dependency&gt;</span></li><li class="L5"><span class="pln">            </span><span class="tag">&lt;groupId&gt;</span><span class="pln">org.mybatis</span><span class="tag">&lt;/groupId&gt;</span></li><li class="L6"><span class="pln">            </span><span class="tag">&lt;artifactId&gt;</span><span class="pln">mybatis</span><span class="tag">&lt;/artifactId&gt;</span></li><li class="L7"><span class="pln">            </span><span class="tag">&lt;version&gt;</span><span class="pln">${mybatis.version}</span><span class="tag">&lt;/version&gt;</span></li><li class="L8"><span class="pln">        </span><span class="tag">&lt;/dependency&gt;</span></li><li class="L9"><span class="pln">        </span><span class="com">&lt;!-- mybatis + spring --&gt;</span></li><li class="L0"><span class="pln">        </span><span class="tag">&lt;dependency&gt;</span></li><li class="L1"><span class="pln">            </span><span class="tag">&lt;groupId&gt;</span><span class="pln">org.mybatis</span><span class="tag">&lt;/groupId&gt;</span></li><li class="L2"><span class="pln">            </span><span class="tag">&lt;artifactId&gt;</span><span class="pln">mybatis-spring</span><span class="tag">&lt;/artifactId&gt;</span></li><li class="L3"><span class="pln">            </span><span class="tag">&lt;version&gt;</span><span class="pln">1.2.2</span><span class="tag">&lt;/version&gt;</span></li><li class="L4"><span class="pln">        </span><span class="tag">&lt;/dependency&gt;</span></li><li class="L5"><span class="pln">&nbsp;</span></li><li class="L6"><span class="pln">&nbsp;</span></li><li class="L7"><span class="pln">        </span><span class="com">&lt;!-- DataBase数据库连接 mysql包--&gt;</span></li><li class="L8"><span class="pln">        </span><span class="tag">&lt;dependency&gt;</span></li><li class="L9"><span class="pln">            </span><span class="tag">&lt;groupId&gt;</span><span class="pln">mysql</span><span class="tag">&lt;/groupId&gt;</span></li><li class="L0"><span class="pln">            </span><span class="tag">&lt;artifactId&gt;</span><span class="pln">mysql-connector-java</span><span class="tag">&lt;/artifactId&gt;</span></li><li class="L1"><span class="pln">            </span><span class="tag">&lt;version&gt;</span><span class="pln">${mysqlVersion}</span><span class="tag">&lt;/version&gt;</span></li><li class="L2"><span class="pln">        </span><span class="tag">&lt;/dependency&gt;</span></li><li class="L3"><span class="pln">&nbsp;</span></li><li class="L4"><span class="pln">        </span><span class="com">&lt;!-- 导入dbcp的jar包，用来在applicationContext.xml中配置数据库 --&gt;</span></li><li class="L5"><span class="pln">        </span><span class="tag">&lt;dependency&gt;</span></li><li class="L6"><span class="pln">            </span><span class="tag">&lt;groupId&gt;</span><span class="pln">commons-dbcp</span><span class="tag">&lt;/groupId&gt;</span></li><li class="L7"><span class="pln">            </span><span class="tag">&lt;artifactId&gt;</span><span class="pln">commons-dbcp</span><span class="tag">&lt;/artifactId&gt;</span></li><li class="L8"><span class="pln">            </span><span class="tag">&lt;version&gt;</span><span class="pln">1.2.2</span><span class="tag">&lt;/version&gt;</span></li><li class="L9"><span class="pln">        </span><span class="tag">&lt;/dependency&gt;</span></li><li class="L0"><span class="pln">&nbsp;</span></li><li class="L1"><span class="pln">        </span><span class="com">&lt;!-- log4j配置, 视情况添加--&gt;</span></li><li class="L2"><span class="pln">        </span><span class="tag">&lt;dependency&gt;</span></li><li class="L3"><span class="pln">            </span><span class="tag">&lt;groupId&gt;</span><span class="pln">log4j</span><span class="tag">&lt;/groupId&gt;</span></li><li class="L4"><span class="pln">            </span><span class="tag">&lt;artifactId&gt;</span><span class="pln">log4j</span><span class="tag">&lt;/artifactId&gt;</span></li><li class="L5"><span class="pln">            </span><span class="tag">&lt;version&gt;</span><span class="pln">${log4jVersion}</span><span class="tag">&lt;/version&gt;</span></li><li class="L6"><span class="pln">        </span><span class="tag">&lt;/dependency&gt;</span></li><li class="L7"><span class="pln">        </span><span class="com">&lt;!--&lt;dependency&gt;--&gt;</span></li><li class="L8"><span class="pln">        </span><span class="com">&lt;!--&lt;groupId&gt;com.alibaba&lt;/groupId&gt;--&gt;</span></li><li class="L9"><span class="pln">        </span><span class="com">&lt;!--&lt;artifactId&gt;fastjson&lt;/artifactId&gt;--&gt;</span></li><li class="L0"><span class="pln">        </span><span class="com">&lt;!--&lt;version&gt;1.1.41&lt;/version&gt;--&gt;</span></li><li class="L1"><span class="pln">        </span><span class="com">&lt;!--&lt;/dependency&gt;--&gt;</span></li><li class="L2"><span class="pln">        </span><span class="tag">&lt;dependency&gt;</span></li><li class="L3"><span class="pln">            </span><span class="tag">&lt;groupId&gt;</span><span class="pln">org.slf4j</span><span class="tag">&lt;/groupId&gt;</span></li><li class="L4"><span class="pln">            </span><span class="tag">&lt;artifactId&gt;</span><span class="pln">slf4j-api</span><span class="tag">&lt;/artifactId&gt;</span></li><li class="L5"><span class="pln">            </span><span class="tag">&lt;version&gt;</span><span class="pln">${slf4jVersion}</span><span class="tag">&lt;/version&gt;</span></li><li class="L6"><span class="pln">        </span><span class="tag">&lt;/dependency&gt;</span></li><li class="L7"><span class="pln">        </span><span class="tag">&lt;dependency&gt;</span></li><li class="L8"><span class="pln">            </span><span class="tag">&lt;groupId&gt;</span><span class="pln">org.slf4j</span><span class="tag">&lt;/groupId&gt;</span></li><li class="L9"><span class="pln">            </span><span class="tag">&lt;artifactId&gt;</span><span class="pln">slf4j-log4j12</span><span class="tag">&lt;/artifactId&gt;</span></li><li class="L0"><span class="pln">            </span><span class="tag">&lt;version&gt;</span><span class="pln">${slf4jVersion}</span><span class="tag">&lt;/version&gt;</span></li><li class="L1"><span class="pln">        </span><span class="tag">&lt;/dependency&gt;</span></li><li class="L2"><span class="pln">&nbsp;</span></li><li class="L3"><span class="pln">        </span><span class="com">&lt;!--文件上传包--&gt;</span></li><li class="L4"><span class="pln">        </span><span class="tag">&lt;dependency&gt;</span></li><li class="L5"><span class="pln">            </span><span class="tag">&lt;groupId&gt;</span><span class="pln">commons-fileupload</span><span class="tag">&lt;/groupId&gt;</span></li><li class="L6"><span class="pln">            </span><span class="tag">&lt;artifactId&gt;</span><span class="pln">commons-fileupload</span><span class="tag">&lt;/artifactId&gt;</span></li><li class="L7"><span class="pln">            </span><span class="tag">&lt;version&gt;</span><span class="pln">${fileuploadVersion}</span><span class="tag">&lt;/version&gt;</span></li><li class="L8"><span class="pln">        </span><span class="tag">&lt;/dependency&gt;</span></li><li class="L9"><span class="pln">&nbsp;</span></li><li class="L0"><span class="pln">        </span><span class="com">&lt;!-- jsp页面使用的jstl支持--&gt;</span></li><li class="L1"><span class="pln">        </span><span class="tag">&lt;dependency&gt;</span></li><li class="L2"><span class="pln">            </span><span class="tag">&lt;groupId&gt;</span><span class="pln">jstl</span><span class="tag">&lt;/groupId&gt;</span></li><li class="L3"><span class="pln">            </span><span class="tag">&lt;artifactId&gt;</span><span class="pln">jstl</span><span class="tag">&lt;/artifactId&gt;</span></li><li class="L4"><span class="pln">            </span><span class="tag">&lt;version&gt;</span><span class="pln">${jstlVersion}</span><span class="tag">&lt;/version&gt;</span></li><li class="L5"><span class="pln">        </span><span class="tag">&lt;/dependency&gt;</span></li><li class="L6"><span class="pln">&nbsp;</span></li><li class="L7"><span class="pln">        </span><span class="com">&lt;!-- lombok插件导包--&gt;</span></li><li class="L8"><span class="pln">        </span><span class="tag">&lt;dependency&gt;</span></li><li class="L9"><span class="pln">            </span><span class="tag">&lt;groupId&gt;</span><span class="pln">org.projectlombok</span><span class="tag">&lt;/groupId&gt;</span></li><li class="L0"><span class="pln">            </span><span class="tag">&lt;artifactId&gt;</span><span class="pln">lombok</span><span class="tag">&lt;/artifactId&gt;</span></li><li class="L1"><span class="pln">            </span><span class="tag">&lt;version&gt;</span><span class="pln">${lombokVersion}</span><span class="tag">&lt;/version&gt;</span></li><li class="L2"><span class="pln">            </span><span class="tag">&lt;scope&gt;</span><span class="pln">provided</span><span class="tag">&lt;/scope&gt;</span></li><li class="L3"><span class="pln">        </span><span class="tag">&lt;/dependency&gt;</span></li><li class="L4"><span class="pln">    </span><span class="tag">&lt;/dependencies&gt;</span></li><li class="L5"><span class="pln">&nbsp;</span></li><li class="L6"><span class="pln">&nbsp;</span></li><li class="L7"><span class="pln">    </span><span class="tag">&lt;build&gt;</span></li><li class="L8"><span class="pln">        </span><span class="tag">&lt;finalName&gt;</span><span class="pln">ssm</span><span class="tag">&lt;/finalName&gt;</span></li><li class="L9"><span class="pln">&nbsp;</span></li><li class="L0"><span class="pln">        </span><span class="tag">&lt;plugins&gt;</span></li><li class="L1"><span class="pln">            </span><span class="com">&lt;!--java8--&gt;</span></li><li class="L2"><span class="pln">            </span><span class="tag">&lt;plugin&gt;</span></li><li class="L3"><span class="pln">                </span><span class="tag">&lt;groupId&gt;</span><span class="pln">org.apache.maven.plugins</span><span class="tag">&lt;/groupId&gt;</span></li><li class="L4"><span class="pln">                </span><span class="tag">&lt;artifactId&gt;</span><span class="pln">maven-compiler-plugin</span><span class="tag">&lt;/artifactId&gt;</span></li><li class="L5"><span class="pln">                </span><span class="tag">&lt;configuration&gt;</span></li><li class="L6"><span class="pln">                    </span><span class="tag">&lt;source&gt;</span><span class="pln">1.8</span><span class="tag">&lt;/source&gt;</span></li><li class="L7"><span class="pln">                    </span><span class="tag">&lt;target&gt;</span><span class="pln">1.8</span><span class="tag">&lt;/target&gt;</span></li><li class="L8"><span class="pln">                </span><span class="tag">&lt;/configuration&gt;</span></li><li class="L9"><span class="pln">            </span><span class="tag">&lt;/plugin&gt;</span></li><li class="L0"><span class="pln">&nbsp;</span></li><li class="L1"><span class="pln">            </span><span class="com">&lt;!-- mybatis-generator-maven-plugin--&gt;</span></li><li class="L2"><span class="pln">            </span><span class="tag">&lt;plugin&gt;</span></li><li class="L3"><span class="pln">                </span><span class="tag">&lt;groupId&gt;</span><span class="pln">org.mybatis.generator</span><span class="tag">&lt;/groupId&gt;</span></li><li class="L4"><span class="pln">                </span><span class="tag">&lt;artifactId&gt;</span><span class="pln">mybatis-generator-maven-plugin</span><span class="tag">&lt;/artifactId&gt;</span></li><li class="L5"><span class="pln">                </span><span class="tag">&lt;version&gt;</span><span class="pln">1.3.2</span><span class="tag">&lt;/version&gt;</span></li><li class="L6"><span class="pln">                </span><span class="tag">&lt;configuration&gt;</span></li><li class="L7"><span class="pln">                    </span><span class="tag">&lt;verbose&gt;</span><span class="pln">true</span><span class="tag">&lt;/verbose&gt;</span></li><li class="L8"><span class="pln">                    </span><span class="tag">&lt;overwrite&gt;</span><span class="pln">true</span><span class="tag">&lt;/overwrite&gt;</span></li><li class="L9"><span class="pln">                </span><span class="tag">&lt;/configuration&gt;</span></li><li class="L0"><span class="pln">            </span><span class="tag">&lt;/plugin&gt;</span></li><li class="L1"><span class="pln">&nbsp;</span></li><li class="L2"><span class="pln">        </span><span class="tag">&lt;/plugins&gt;</span></li><li class="L3"><span class="pln">    </span><span class="tag">&lt;/build&gt;</span></li><li class="L4"><span class="tag">&lt;/project&gt;</span></li></ol></pre><div class="code-pretty-toolbar"><span class="title">XML</span><a href="javascript:void(0);" title="复制代码" class="tool clipboard"><i class="fa fa-files-o"></i></a><a href="javascript:void(0);" title="查看纯文本代码" class="tool view-source"><i class="fa fa-code"></i></a><a href="javascript:void(0);" title="返回代码高亮" class="tool back-to-pretty"><i class="fa fa-undo"></i></a><span class="msg"></span></div></div>
<p>在MainController.java文件中输入如下代码：</p>
<div class="code-pretty-container"><pre class="prettyprint linenums lang-java prettyprinted" style=""><ol class="linenums"><li class="L0"><span class="kwd">package</span><span class="pln"> xmu</span><span class="pun">.</span><span class="pln">dblab</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">;</span></li><li class="L1"><span class="pln">&nbsp;</span></li><li class="L2"><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">stereotype</span><span class="pun">.</span><span class="typ">Controller</span><span class="pun">;</span></li><li class="L3"><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">web</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">.</span><span class="pln">annotation</span><span class="pun">.</span><span class="typ">RequestMapping</span><span class="pun">;</span></li><li class="L4"><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">web</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">.</span><span class="pln">annotation</span><span class="pun">.</span><span class="typ">RequestMethod</span><span class="pun">;</span></li><li class="L5"><span class="pln">&nbsp;</span></li><li class="L6"><span class="pln">&nbsp;</span></li><li class="L7"><span class="com">/**</span></li><li class="L8"><span class="com"> * Created by linziyu</span></li><li class="L9"><span class="com"> * On 6/4/2018.16:28 PM</span></li><li class="L0"><span class="com"> */</span></li><li class="L1"><span class="lit">@Controller</span></li><li class="L2"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">MainController</span><span class="pln"> </span><span class="pun">{</span></li><li class="L3"><span class="pln">&nbsp;</span></li><li class="L4"><span class="pln">    </span><span class="lit">@RequestMapping</span><span class="pun">(</span><span class="pln">value </span><span class="pun">=</span><span class="pln"> </span><span class="str">"test"</span><span class="pun">,</span><span class="pln"> method </span><span class="pun">=</span><span class="pln"> </span><span class="typ">RequestMethod</span><span class="pun">.</span><span class="pln">GET</span><span class="pun">)</span></li><li class="L5"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> test</span><span class="pun">(){</span></li><li class="L6"><span class="com">//        实际返回的是views/test.jsp ,spring-mvc.xml中配置过前后缀</span></li><li class="L7"><span class="pln">        </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"test"</span><span class="pun">;</span></li><li class="L8"><span class="pln">    </span><span class="pun">}</span></li><li class="L9"><span class="pun">}</span></li><li class="L0"><span class="pln">&nbsp;</span></li></ol></pre><div class="code-pretty-toolbar"><span class="title">Java</span><a href="javascript:void(0);" title="复制代码" class="tool clipboard"><i class="fa fa-files-o"></i></a><a href="javascript:void(0);" title="查看纯文本代码" class="tool view-source"><i class="fa fa-code"></i></a><a href="javascript:void(0);" title="返回代码高亮" class="tool back-to-pretty"><i class="fa fa-undo"></i></a><span class="msg"></span></div></div>
<p>在web.xml文件中输入如下代码：</p>
<div class="code-pretty-container"><pre class="prettyprint linenums lang-xml prettyprinted" style=""><ol class="linenums"><li class="L0"><span class="pun">&lt;?</span><span class="pln">xml version</span><span class="pun">=</span><span class="str">"1.0"</span><span class="pln"> encoding</span><span class="pun">=</span><span class="str">"UTF-8"</span><span class="pun">?&gt;</span></li><li class="L1"><span class="tag">&lt;web-app</span><span class="pln"> </span><span class="atn">xmlns:xsi</span><span class="pun">=</span><span class="atv">"http://www.w3.org/2001/XMLSchema-instance"</span></li><li class="L2"><span class="pln">         </span><span class="atn">xmlns</span><span class="pun">=</span><span class="atv">"http://java.sun.com/xml/ns/javaee"</span></li><li class="L3"><span class="pln">         </span><span class="atn">xsi:schemaLocation</span><span class="pun">=</span><span class="atv">"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"</span></li><li class="L4"><span class="pln">         </span><span class="atn">version</span><span class="pun">=</span><span class="atv">"3.0"</span><span class="tag">&gt;</span></li><li class="L5"><span class="pln">    </span><span class="com">&lt;!-- 地址为http://localhost:8080/  显示的默认网页--&gt;</span></li><li class="L6"><span class="pln">    </span><span class="tag">&lt;welcome-file-list&gt;</span></li><li class="L7"><span class="pln">        </span><span class="tag">&lt;welcome-file&gt;</span><span class="pln">/index.jsp</span><span class="tag">&lt;/welcome-file&gt;</span></li><li class="L8"><span class="pln">    </span><span class="tag">&lt;/welcome-file-list&gt;</span></li><li class="L9"><span class="pln">&nbsp;</span></li><li class="L0"><span class="pln">    </span><span class="com">&lt;!-- spring MVC config start--&gt;</span></li><li class="L1"><span class="pln">    </span><span class="tag">&lt;servlet&gt;</span></li><li class="L2"><span class="pln">        </span><span class="tag">&lt;servlet-name&gt;</span><span class="pln">spring</span><span class="tag">&lt;/servlet-name&gt;</span></li><li class="L3"><span class="pln">        </span><span class="tag">&lt;servlet-class&gt;</span><span class="pln">org.springframework.web.servlet.DispatcherServlet</span><span class="tag">&lt;/servlet-class&gt;</span></li><li class="L4"><span class="pln">        </span><span class="tag">&lt;init-param&gt;</span></li><li class="L5"><span class="pln">            </span><span class="tag">&lt;param-name&gt;</span><span class="pln">contextConfigLocation</span><span class="tag">&lt;/param-name&gt;</span></li><li class="L6"><span class="pln">            </span><span class="com">&lt;!-- 此处指向的的是SpringMVC的配置文件 --&gt;</span></li><li class="L7"><span class="pln">            </span><span class="tag">&lt;param-value&gt;</span><span class="pln">classpath:META-INF/spring-mvc.xml</span><span class="tag">&lt;/param-value&gt;</span></li><li class="L8"><span class="pln">        </span><span class="tag">&lt;/init-param&gt;</span></li><li class="L9"><span class="pln">        </span><span class="com">&lt;!--配置容器在启动的时候就加载这个servlet并实例化--&gt;</span></li><li class="L0"><span class="pln">        </span><span class="tag">&lt;load-on-startup&gt;</span><span class="pln">1</span><span class="tag">&lt;/load-on-startup&gt;</span></li><li class="L1"><span class="pln">    </span><span class="tag">&lt;/servlet&gt;</span></li><li class="L2"><span class="pln">&nbsp;</span></li><li class="L3"><span class="pln">    </span><span class="tag">&lt;servlet-mapping&gt;</span></li><li class="L4"><span class="pln">        </span><span class="tag">&lt;servlet-name&gt;</span><span class="pln">spring</span><span class="tag">&lt;/servlet-name&gt;</span></li><li class="L5"><span class="pln">        </span><span class="tag">&lt;url-pattern&gt;</span><span class="pln">/</span><span class="tag">&lt;/url-pattern&gt;</span></li><li class="L6"><span class="pln">    </span><span class="tag">&lt;/servlet-mapping&gt;</span></li><li class="L7"><span class="pln">    </span><span class="com">&lt;!-- spring MVC config end--&gt;</span></li><li class="L8"><span class="pln">&nbsp;</span></li><li class="L9"><span class="tag">&lt;/web-app&gt;</span></li></ol></pre><div class="code-pretty-toolbar"><span class="title">XML</span><a href="javascript:void(0);" title="复制代码" class="tool clipboard"><i class="fa fa-files-o"></i></a><a href="javascript:void(0);" title="查看纯文本代码" class="tool view-source"><i class="fa fa-code"></i></a><a href="javascript:void(0);" title="返回代码高亮" class="tool back-to-pretty"><i class="fa fa-undo"></i></a><span class="msg"></span></div></div>
<p>在spring-mvc.xml文件中输入如下代码：</p>
<div class="code-pretty-container"><pre class="prettyprint linenums lang-xml prettyprinted" style=""><ol class="linenums"><li class="L0"><span class="pun">&lt;?</span><span class="pln">xml version</span><span class="pun">=</span><span class="str">"1.0"</span><span class="pln"> encoding</span><span class="pun">=</span><span class="str">"UTF-8"</span><span class="pun">?&gt;</span></li><li class="L1"><span class="tag">&lt;beans</span><span class="pln"> </span><span class="atn">xmlns</span><span class="pun">=</span><span class="atv">"http://www.springframework.org/schema/beans"</span></li><li class="L2"><span class="pln">       </span><span class="atn">xmlns:xsi</span><span class="pun">=</span><span class="atv">"http://www.w3.org/2001/XMLSchema-instance"</span></li><li class="L3"><span class="pln">       </span><span class="atn">xmlns:context</span><span class="pun">=</span><span class="atv">"http://www.springframework.org/schema/context"</span></li><li class="L4"><span class="pln">       </span><span class="atn">xmlns:mvc</span><span class="pun">=</span><span class="atv">"http://www.springframework.org/schema/mvc"</span></li><li class="L5"><span class="pln">       </span><span class="atn">xsi:schemaLocation</span><span class="pun">=</span><span class="atv">"http://www.springframework.org/schema/beans</span></li><li class="L6"><span class="atv">        http://www.springframework.org/schema/beans/spring-beans-4.1.xsd</span></li><li class="L7"><span class="atv">        http://www.springframework.org/schema/context</span></li><li class="L8"><span class="atv">        http://www.springframework.org/schema/context/spring-context-4.1.xsd</span></li><li class="L9"><span class="atv">        http://www.springframework.org/schema/mvc</span></li><li class="L0"><span class="atv">        http://www.springframework.org/schema/mvc/spring-mvc-4.1.xsd"</span><span class="tag">&gt;</span></li><li class="L1"><span class="pln">&nbsp;</span></li><li class="L2"><span class="pln">    </span><span class="com">&lt;!-- 启动注解驱动的spring MVC功能,注册请求url和注解POJO类方法的映射--&gt;</span></li><li class="L3"><span class="pln">    </span><span class="tag">&lt;mvc:annotation-driven</span><span class="pln"> </span><span class="tag">/&gt;</span></li><li class="L4"><span class="pln">    </span><span class="com">&lt;!-- 对模型视图名称的解析,在请求时模型视图名称添加前后缀 --&gt;</span></li><li class="L5"><span class="pln">    </span><span class="tag">&lt;context:component-scan</span><span class="pln"> </span><span class="atn">base-package</span><span class="pun">=</span><span class="atv">"xmu.dblab"</span><span class="pln"> </span><span class="tag">/&gt;</span></li><li class="L6"><span class="pln">    </span><span class="com">&lt;!-- 静态资源访问，方案2 (表示不对静态资源如CSS、JS、HTML等进行拦截) --&gt;</span></li><li class="L7"><span class="pln">    </span><span class="tag">&lt;mvc:default-servlet-handler</span><span class="pln"> </span><span class="tag">/&gt;</span></li><li class="L8"><span class="pln">&nbsp;</span></li><li class="L9"><span class="pln">    </span><span class="tag">&lt;bean</span><span class="pln"> </span><span class="atn">id</span><span class="pun">=</span><span class="atv">"viewResolver"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"org.springframework.web.servlet.view.InternalResourceViewResolver"</span><span class="tag">&gt;</span></li><li class="L0"><span class="pln">        </span><span class="tag">&lt;property</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"viewClass"</span><span class="pln"> </span><span class="atn">value</span><span class="pun">=</span><span class="atv">"org.springframework.web.servlet.view.JstlView"</span><span class="pln"> </span><span class="tag">/&gt;</span></li><li class="L1"><span class="pln">        </span><span class="tag">&lt;property</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"prefix"</span><span class="pln"> </span><span class="atn">value</span><span class="pun">=</span><span class="atv">"/WEB-INF/views/"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">      </span><span class="com">&lt;!-- 前缀 --&gt;</span></li><li class="L2"><span class="pln">        </span><span class="tag">&lt;property</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"suffix"</span><span class="pln"> </span><span class="atn">value</span><span class="pun">=</span><span class="atv">".jsp"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">   </span><span class="com">&lt;!-- 后缀 --&gt;</span></li><li class="L3"><span class="pln">    </span><span class="tag">&lt;/bean&gt;</span></li><li class="L4"><span class="tag">&lt;/beans&gt;</span></li></ol></pre><div class="code-pretty-toolbar"><span class="title">XML</span><a href="javascript:void(0);" title="复制代码" class="tool clipboard"><i class="fa fa-files-o"></i></a><a href="javascript:void(0);" title="查看纯文本代码" class="tool view-source"><i class="fa fa-code"></i></a><a href="javascript:void(0);" title="返回代码高亮" class="tool back-to-pretty"><i class="fa fa-undo"></i></a><span class="msg"></span></div></div>
<p>在test.jsp文件中输入如下代码：</p>
<div class="code-pretty-container"><pre class="prettyprint linenums lang-java prettyprinted" style=""><ol class="linenums"><li class="L0"><span class="pun">&lt;%--</span></li><li class="L1"><span class="pln">  </span><span class="typ">Created</span><span class="pln"> by </span><span class="typ">IntelliJ</span><span class="pln"> IDEA</span><span class="pun">.</span></li><li class="L2"><span class="pln">  </span><span class="typ">User</span><span class="pun">:</span><span class="pln"> linziyu</span></li><li class="L3"><span class="pln">  </span><span class="typ">Date</span><span class="pun">:</span><span class="pln"> </span><span class="lit">18</span><span class="pun">-</span><span class="lit">5</span><span class="pun">-</span><span class="lit">8</span></li><li class="L4"><span class="pln">  </span><span class="typ">Time</span><span class="pun">:</span><span class="pln"> </span><span class="pun">下午</span><span class="lit">3</span><span class="pun">:</span><span class="lit">18</span></li><li class="L5"><span class="pln">  </span><span class="typ">To</span><span class="pln"> change </span><span class="kwd">this</span><span class="pln"> template use </span><span class="typ">File</span><span class="pln"> </span><span class="pun">|</span><span class="pln"> </span><span class="typ">Settings</span><span class="pln"> </span><span class="pun">|</span><span class="pln"> </span><span class="typ">File</span><span class="pln"> </span><span class="typ">Templates</span><span class="pun">.</span></li><li class="L6"><span class="pun">--%&gt;</span></li><li class="L7"><span class="pun">&lt;%@</span><span class="pln"> page contentType</span><span class="pun">=</span><span class="str">"text/html;charset=UTF-8"</span><span class="pln"> language</span><span class="pun">=</span><span class="str">"java"</span><span class="pln"> </span><span class="pun">%&gt;</span></li><li class="L8"><span class="pun">&lt;</span><span class="pln">html</span><span class="pun">&gt;</span></li><li class="L9"><span class="pun">&lt;</span><span class="pln">head</span><span class="pun">&gt;</span></li><li class="L0"><span class="pln">    </span><span class="pun">&lt;</span><span class="pln">title</span><span class="pun">&gt;</span><span class="typ">Title</span><span class="pun">&lt;/</span><span class="pln">title</span><span class="pun">&gt;</span></li><li class="L1"><span class="pun">&lt;/</span><span class="pln">head</span><span class="pun">&gt;</span></li><li class="L2"><span class="pun">&lt;</span><span class="pln">body</span><span class="pun">&gt;</span></li><li class="L3"><span class="pln">linziyu test</span></li><li class="L4"><span class="pun">&lt;/</span><span class="pln">body</span><span class="pun">&gt;</span></li><li class="L5"><span class="pun">&lt;/</span><span class="pln">html</span><span class="pun">&gt;</span></li></ol></pre><div class="code-pretty-toolbar"><span class="title">Java</span><a href="javascript:void(0);" title="复制代码" class="tool clipboard"><i class="fa fa-files-o"></i></a><a href="javascript:void(0);" title="查看纯文本代码" class="tool view-source"><i class="fa fa-code"></i></a><a href="javascript:void(0);" title="返回代码高亮" class="tool back-to-pretty"><i class="fa fa-undo"></i></a><span class="msg"></span></div></div>
<p>在index.jsp文件中输入如下代码：</p>
<div class="code-pretty-container"><pre class="prettyprint linenums lang-java prettyprinted" style=""><ol class="linenums"><li class="L0"><span class="pun">&lt;%--</span></li><li class="L1"><span class="pln">  </span><span class="typ">Created</span><span class="pln"> by </span><span class="typ">IntelliJ</span><span class="pln"> IDEA</span><span class="pun">.</span></li><li class="L2"><span class="pln">  </span><span class="typ">User</span><span class="pun">:</span><span class="pln"> linziyu</span></li><li class="L3"><span class="pln">  </span><span class="typ">Date</span><span class="pun">:</span><span class="pln"> </span><span class="lit">18</span><span class="pun">-</span><span class="lit">5</span><span class="pun">-</span><span class="lit">8</span></li><li class="L4"><span class="pln">  </span><span class="typ">Time</span><span class="pun">:</span><span class="pln"> </span><span class="pun">下午</span><span class="lit">3</span><span class="pun">:</span><span class="lit">31</span></li><li class="L5"><span class="pln">  </span><span class="typ">To</span><span class="pln"> change </span><span class="kwd">this</span><span class="pln"> template use </span><span class="typ">File</span><span class="pln"> </span><span class="pun">|</span><span class="pln"> </span><span class="typ">Settings</span><span class="pln"> </span><span class="pun">|</span><span class="pln"> </span><span class="typ">File</span><span class="pln"> </span><span class="typ">Templates</span><span class="pun">.</span></li><li class="L6"><span class="pun">--%&gt;</span></li><li class="L7"><span class="pun">&lt;%@</span><span class="pln"> page contentType</span><span class="pun">=</span><span class="str">"text/html;charset=UTF-8"</span><span class="pln"> language</span><span class="pun">=</span><span class="str">"java"</span><span class="pln"> </span><span class="pun">%&gt;</span></li><li class="L8"><span class="pun">&lt;</span><span class="pln">html</span><span class="pun">&gt;</span></li><li class="L9"><span class="pun">&lt;</span><span class="pln">head</span><span class="pun">&gt;</span></li><li class="L0"><span class="pln">    </span><span class="pun">&lt;</span><span class="pln">title</span><span class="pun">&gt;</span><span class="typ">Title</span><span class="pun">&lt;/</span><span class="pln">title</span><span class="pun">&gt;</span></li><li class="L1"><span class="pun">&lt;/</span><span class="pln">head</span><span class="pun">&gt;</span></li><li class="L2"><span class="pun">&lt;</span><span class="pln">body</span><span class="pun">&gt;</span></li><li class="L3"><span class="pln">webdemo index page linziyu</span></li><li class="L4"><span class="pun">&lt;/</span><span class="pln">body</span><span class="pun">&gt;</span></li><li class="L5"><span class="pun">&lt;/</span><span class="pln">html</span><span class="pun">&gt;</span></li><li class="L6"><span class="pln">&nbsp;</span></li></ol></pre><div class="code-pretty-toolbar"><span class="title">Java</span><a href="javascript:void(0);" title="复制代码" class="tool clipboard"><i class="fa fa-files-o"></i></a><a href="javascript:void(0);" title="查看纯文本代码" class="tool view-source"><i class="fa fa-code"></i></a><a href="javascript:void(0);" title="返回代码高亮" class="tool back-to-pretty"><i class="fa fa-undo"></i></a><span class="msg"></span></div></div>
<p>WebDemo工程就建好了，如果你觉得一步步创建文件比较麻烦，也可以直接到百度云盘下载源代码文件（<a href="https://pan.baidu.com/s/1o9P-2uIrH_cP3UkAyZovtQ" target="_blank">下载</a>），进入百度云盘以后，点击进入“WebDemo工程文件1”这个子目录，下载该目录下的WebDemo.rar压缩文件，然后解压缩即可。</p>
<h2>对工程文件进行编译打包</h2>
<p>WebDemo工程建好以后，就可以进行编译打包。<br>
进入WebDemo工程界面，如下图所示，在左侧的工程管理视图中，找到pom.xml，双击鼠标打开该文件。<br>
<img src="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/SpringMVC02.png" alt="" title=""><br>
然后，如下图所示，在pom.xml文件窗口内的任意位置，单击鼠标右键，在弹出的菜单中，选择“Maven”，然后在弹出的下一级菜单中，点击“Download sources and documentation”，完成依赖包的导入操作。<br>
<img src="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/SpringMVC03a.png" alt="" title=""><br>
然后，如下图所示，就可以看到已经导入的很多依赖jar包。<br>
<img src="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/SpringMVC04.png" alt="" title=""></p>
<p>然后，添加Artifact包。如下图所示，在工程界面顶部菜单中选择“File–&gt;Project Structure…”。<br>
<img src="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/SpringMVC04a.png" alt="" title=""><br>
然后，如下图所示，依次点击Aritifacts，绿色加号，Web Application: Exploded，From modules…。<br>
<img src="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/SpringMVC04b1.png" alt="" title=""><br>
然后，如下图所示，点击OK按钮。<br>
<img src="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/SpringMVC04c1.png" alt="" title=""><br>
如下图所示，把Name后面的文本框里面的内容修改为“WebDemo”，把Type后面的下拉列表的内容选择为“Web Application:Archive”，然后，点击OK按钮。<br>
<img src="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/SpringMVC04d1.png" alt="" title=""></p>
<p>然后，如下图所示，在工程界面的顶部菜单，选择“Build”，在弹出的菜单中选择“Build Artifacts…”：<br>
<img src="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/SpringMVC05.png" alt="" title=""><br>
然后，弹出如下图所示的菜单，选择“WebDemo”，再选择“Build”。<br>
<img src="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/SpringMVC06.png" alt="" title=""><br>
然后，从下面界面中，可以看到，在左侧的工程目录中，在“out–&gt;artifacts–&gt;WebDemo”目录下，生成了一个WebDemo.war文件。<br>
<img src="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/SpringMVC07a.png" alt="" title=""></p>
<h2>把WebDemo.war发布到Tomcat中</h2>
<p>假设你的Linux系统中已经安装好了Tomcat服务器，如果还没有安装，请参考《<a href="http://dblab.xmu.edu.cn/blog/1850-2/" target="_blank">在Ubuntu16.04中安装Tomcat8</a>》完成安装。<br>
然后，进入Tomcat安装目录，进入conf子目录，使用vim编辑器打开server.xml文件，命令如下：</p>
<div class="code-pretty-container"><pre class="prettyprint linenums lang-bash prettyprinted" style=""><ol class="linenums"><li class="L0"><span class="kwd">cd </span><span class="pln">/usr/local/tomcat</span></li><li class="L1"><span class="kwd">cd </span><span class="pln">conf</span></li><li class="L2"><span class="kwd">vim </span><span class="pln">server.xml</span></li></ol></pre><div class="code-pretty-toolbar"><span class="title">Shell 命令</span><a href="javascript:void(0);" title="复制代码" class="tool clipboard"><i class="fa fa-files-o"></i></a><a href="javascript:void(0);" title="查看纯文本代码" class="tool view-source"><i class="fa fa-code"></i></a><a href="javascript:void(0);" title="返回代码高亮" class="tool back-to-pretty"><i class="fa fa-undo"></i></a><span class="msg"></span></div></div>
<p>打开server.xml文件以后，首先，如下图所示，修改网页服务器端口号为9999。<br>
<img src="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/SpringMVC10.png" alt="" title=""><br>
然后，在里面增加如下一行语句：</p>
<pre><code>&lt;Context path="/webdemo" docBase="./WebDemo" debug="0" reloadable="true"/&gt;
</code></pre>
<p>增加后的效果如下图所示：<br>
<img src="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/SpringMVC11.png" alt="" title=""></p>
<p>然后，保存并退出server.xml文件，重新启动Tomcat服务器（重启方法，请参考博客《<a href="http://dblab.xmu.edu.cn/blog/1850-2/" target="_blank">在Ubuntu16.04中安装Tomcat8</a>》）。</p>
<p>然后，在Linux系统中，打开一个文件管理器，如下图所示，找到WebDemo.war文件所在的目录，比如，笔者的目录是“/home/linziyu/IdeaProjects/out/artifacts/WebDemo/WebDemo.war”，然后，把WebDemo.war复制到你机器上的Tomcat的安装目录的webapps目录下，比如“/usr/local/tomcat/webapps”。<br>
<img src="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/SpringMVC08.png" alt="" title=""></p>
<p>如下图所示，把WebDemo.war复制到“/usr/local/tomcat/webapps”目录下面以后，会自动生成一个WebDemo文件夹。<br>
<img src="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/SpringMVC09.png" alt="" title=""></p>
<p>然后，打开一个浏览器，在地址栏中输入“http://localhost:9999/webdemo/test”，就可以看到网页中显示了“linziyu test”这一行文本内容，说明网页测试成功了。<br>
<img src="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/SpringMVC12.png" alt="" title=""></p>
<h2>实现Spring MVC和Spring的整合</h2>
<p>在和spring-mvc.xml相同的目录下，新建另外一个文件spring-mybatis.xml，内容如下：</p>
<div class="code-pretty-container"><pre class="prettyprint linenums lang-xml prettyprinted" style=""><ol class="linenums"><li class="L0"><span class="tag">&lt;beans</span><span class="pln"> </span><span class="atn">xmlns</span><span class="pun">=</span><span class="atv">"http://www.springframework.org/schema/beans"</span></li><li class="L1"><span class="pln">       </span><span class="atn">xmlns:xsi</span><span class="pun">=</span><span class="atv">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="pln"> </span><span class="atn">xmlns:p</span><span class="pun">=</span><span class="atv">"http://www.springframework.org/schema/p"</span></li><li class="L2"><span class="pln">       </span><span class="atn">xmlns:context</span><span class="pun">=</span><span class="atv">"http://www.springframework.org/schema/context"</span></li><li class="L3"><span class="pln">       </span><span class="atn">xmlns:mvc</span><span class="pun">=</span><span class="atv">"http://www.springframework.org/schema/mvc"</span></li><li class="L4"><span class="pln">       </span><span class="atn">xsi:schemaLocation</span><span class="pun">=</span><span class="atv">"http://www.springframework.org/schema/beans</span></li><li class="L5"><span class="atv">                        http://www.springframework.org/schema/beans/spring-beans-3.1.xsd</span></li><li class="L6"><span class="atv">                        http://www.springframework.org/schema/context</span></li><li class="L7"><span class="atv">                        http://www.springframework.org/schema/context/spring-context-3.1.xsd</span></li><li class="L8"><span class="atv">                        http://www.springframework.org/schema/mvc</span></li><li class="L9"><span class="atv">                        http://www.springframework.org/schema/mvc/spring-mvc-4.0.xsd"</span><span class="tag">&gt;</span></li><li class="L0"><span class="pln">&nbsp;</span></li><li class="L1"><span class="pln">        </span><span class="com">&lt;!-- 自动扫描 --&gt;</span></li><li class="L2"><span class="pln">        </span><span class="tag">&lt;context:component-scan</span><span class="pln"> </span><span class="atn">base-package</span><span class="pun">=</span><span class="atv">"xmu.dblab"</span><span class="tag">&gt;</span></li><li class="L3"><span class="pln">            </span><span class="com">&lt;!-- 扫描时跳过 @Controller 注解的JAVA类（控制器） --&gt;</span></li><li class="L4"><span class="pln">            </span><span class="tag">&lt;context:exclude-filter</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"annotation"</span><span class="pln"> </span><span class="atn">expression</span><span class="pun">=</span><span class="atv">"org.springframework.stereotype.Controller"</span><span class="tag">/&gt;</span></li><li class="L5"><span class="pln">        </span><span class="tag">&lt;/context:component-scan&gt;</span></li><li class="L6"><span class="tag">&lt;/beans&gt;</span></li></ol></pre><div class="code-pretty-toolbar"><span class="title">XML</span><a href="javascript:void(0);" title="复制代码" class="tool clipboard"><i class="fa fa-files-o"></i></a><a href="javascript:void(0);" title="查看纯文本代码" class="tool view-source"><i class="fa fa-code"></i></a><a href="javascript:void(0);" title="返回代码高亮" class="tool back-to-pretty"><i class="fa fa-undo"></i></a><span class="msg"></span></div></div>
<p>然后，要对之前已经建好的web.xml文件进行补充完善，新增如下内容：</p>
<div class="code-pretty-container"><pre class="prettyprint linenums lang-xml prettyprinted" style=""><ol class="linenums"><li class="L0"><span class="com">&lt;!--加载Spring的配置文件到上下文中去--&gt;</span></li><li class="L1"><span class="pln">        </span><span class="tag">&lt;context-param&gt;</span></li><li class="L2"><span class="pln">            </span><span class="tag">&lt;param-name&gt;</span><span class="pln">contextConfigLocation</span><span class="tag">&lt;/param-name&gt;</span></li><li class="L3"><span class="pln">            </span><span class="tag">&lt;param-value&gt;</span></li><li class="L4"><span class="pln">                classpath:META-INF/spring-mybatis.xml</span></li><li class="L5"><span class="pln">            </span><span class="tag">&lt;/param-value&gt;</span></li><li class="L6"><span class="pln">        </span><span class="tag">&lt;/context-param&gt;</span></li><li class="L7"><span class="com">&lt;!-- Spring监听器 --&gt;</span></li><li class="L8"><span class="pln">        </span><span class="tag">&lt;listener&gt;</span></li><li class="L9"><span class="pln">            </span><span class="tag">&lt;listener-class&gt;</span><span class="pln">org.springframework.web.context.ContextLoaderListener</span><span class="tag">&lt;/listener-class&gt;</span></li><li class="L0"><span class="pln">        </span><span class="tag">&lt;/listener&gt;</span></li><li class="L1"><span class="pln">&nbsp;</span></li><li class="L2"><span class="pln">        </span><span class="com">&lt;!--  字符集过滤  --&gt;</span></li><li class="L3"><span class="pln">        </span><span class="tag">&lt;filter&gt;</span></li><li class="L4"><span class="pln">            </span><span class="tag">&lt;filter-name&gt;</span><span class="pln">encodingFilter</span><span class="tag">&lt;/filter-name&gt;</span></li><li class="L5"><span class="pln">            </span><span class="tag">&lt;filter-class&gt;</span><span class="pln">org.springframework.web.filter.CharacterEncodingFilter</span><span class="tag">&lt;/filter-class&gt;</span></li><li class="L6"><span class="pln">            </span><span class="tag">&lt;init-param&gt;</span></li><li class="L7"><span class="pln">                </span><span class="tag">&lt;param-name&gt;</span><span class="pln">encoding</span><span class="tag">&lt;/param-name&gt;</span></li><li class="L8"><span class="pln">                </span><span class="tag">&lt;param-value&gt;</span><span class="pln">UTF-8</span><span class="tag">&lt;/param-value&gt;</span></li><li class="L9"><span class="pln">            </span><span class="tag">&lt;/init-param&gt;</span></li><li class="L0"><span class="pln">            </span><span class="tag">&lt;init-param&gt;</span></li><li class="L1"><span class="pln">                </span><span class="tag">&lt;param-name&gt;</span><span class="pln">forceEncoding</span><span class="tag">&lt;/param-name&gt;</span></li><li class="L2"><span class="pln">                </span><span class="tag">&lt;param-value&gt;</span><span class="pln">true</span><span class="tag">&lt;/param-value&gt;</span></li><li class="L3"><span class="pln">            </span><span class="tag">&lt;/init-param&gt;</span></li><li class="L4"><span class="pln">        </span><span class="tag">&lt;/filter&gt;</span></li><li class="L5"><span class="pln">        </span><span class="tag">&lt;filter-mapping&gt;</span></li><li class="L6"><span class="pln">            </span><span class="tag">&lt;filter-name&gt;</span><span class="pln">encodingFilter</span><span class="tag">&lt;/filter-name&gt;</span></li><li class="L7"><span class="pln">            </span><span class="tag">&lt;url-pattern&gt;</span><span class="pln">/*</span><span class="tag">&lt;/url-pattern&gt;</span></li><li class="L8"><span class="pln">        </span><span class="tag">&lt;/filter-mapping&gt;</span></li></ol></pre><div class="code-pretty-toolbar"><span class="title">XML</span><a href="javascript:void(0);" title="复制代码" class="tool clipboard"><i class="fa fa-files-o"></i></a><a href="javascript:void(0);" title="查看纯文本代码" class="tool view-source"><i class="fa fa-code"></i></a><a href="javascript:void(0);" title="返回代码高亮" class="tool back-to-pretty"><i class="fa fa-undo"></i></a><span class="msg"></span></div></div>
<p>从上面新增的内容可以看出，这里新引入了Spring-mybaits配置文件、Spring监听器和字符集过滤。<br>
修改完善后的web.xml的完整内容如下：</p>
<div class="code-pretty-container"><pre class="prettyprint linenums lang-xml prettyprinted" style=""><ol class="linenums"><li class="L0"><span class="pun">&lt;?</span><span class="pln">xml version</span><span class="pun">=</span><span class="str">"1.0"</span><span class="pln"> encoding</span><span class="pun">=</span><span class="str">"UTF-8"</span><span class="pun">?&gt;</span></li><li class="L1"><span class="tag">&lt;web-app</span><span class="pln"> </span><span class="atn">xmlns:xsi</span><span class="pun">=</span><span class="atv">"http://www.w3.org/2001/XMLSchema-instance"</span></li><li class="L2"><span class="pln">         </span><span class="atn">xmlns</span><span class="pun">=</span><span class="atv">"http://java.sun.com/xml/ns/javaee"</span></li><li class="L3"><span class="pln">         </span><span class="atn">xsi:schemaLocation</span><span class="pun">=</span><span class="atv">"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"</span></li><li class="L4"><span class="pln">         </span><span class="atn">version</span><span class="pun">=</span><span class="atv">"3.0"</span><span class="tag">&gt;</span></li><li class="L5"><span class="pln">        </span><span class="com">&lt;!-- 地址为http://localhost:8080/  显示的默认网页--&gt;</span></li><li class="L6"><span class="pln">        </span><span class="tag">&lt;welcome-file-list&gt;</span></li><li class="L7"><span class="pln">          </span><span class="tag">&lt;welcome-file&gt;</span><span class="pln">/index.jsp</span><span class="tag">&lt;/welcome-file&gt;</span></li><li class="L8"><span class="pln">        </span><span class="tag">&lt;/welcome-file-list&gt;</span></li><li class="L9"><span class="pln">&nbsp;</span></li><li class="L0"><span class="pln">    </span><span class="com">&lt;!--加载Spring的配置文件到上下文中去--&gt;</span></li><li class="L1"><span class="pln">        </span><span class="tag">&lt;context-param&gt;</span></li><li class="L2"><span class="pln">            </span><span class="tag">&lt;param-name&gt;</span><span class="pln">contextConfigLocation</span><span class="tag">&lt;/param-name&gt;</span></li><li class="L3"><span class="pln">            </span><span class="tag">&lt;param-value&gt;</span></li><li class="L4"><span class="pln">                classpath:META-INF/spring-mybatis.xml</span></li><li class="L5"><span class="pln">            </span><span class="tag">&lt;/param-value&gt;</span></li><li class="L6"><span class="pln">        </span><span class="tag">&lt;/context-param&gt;</span></li><li class="L7"><span class="pln">&nbsp;</span></li><li class="L8"><span class="pln">        </span><span class="com">&lt;!-- spring MVC config start--&gt;</span></li><li class="L9"><span class="pln">        </span><span class="tag">&lt;servlet&gt;</span></li><li class="L0"><span class="pln">            </span><span class="tag">&lt;servlet-name&gt;</span><span class="pln">spring</span><span class="tag">&lt;/servlet-name&gt;</span></li><li class="L1"><span class="pln">            </span><span class="tag">&lt;servlet-class&gt;</span><span class="pln">org.springframework.web.servlet.DispatcherServlet</span><span class="tag">&lt;/servlet-class&gt;</span></li><li class="L2"><span class="pln">            </span><span class="tag">&lt;init-param&gt;</span></li><li class="L3"><span class="pln">              </span><span class="tag">&lt;param-name&gt;</span><span class="pln">contextConfigLocation</span><span class="tag">&lt;/param-name&gt;</span></li><li class="L4"><span class="pln">              </span><span class="com">&lt;!-- 此处指向的的是SpringMVC的配置文件 --&gt;</span></li><li class="L5"><span class="pln">              </span><span class="tag">&lt;param-value&gt;</span><span class="pln">classpath:META-INF/spring-mvc.xml</span><span class="tag">&lt;/param-value&gt;</span></li><li class="L6"><span class="pln">            </span><span class="tag">&lt;/init-param&gt;</span></li><li class="L7"><span class="pln">            </span><span class="com">&lt;!--配置容器在启动的时候就加载这个servlet并实例化--&gt;</span></li><li class="L8"><span class="pln">            </span><span class="tag">&lt;load-on-startup&gt;</span><span class="pln">1</span><span class="tag">&lt;/load-on-startup&gt;</span></li><li class="L9"><span class="pln">        </span><span class="tag">&lt;/servlet&gt;</span></li><li class="L0"><span class="pln">&nbsp;</span></li><li class="L1"><span class="pln">        </span><span class="tag">&lt;servlet-mapping&gt;</span></li><li class="L2"><span class="pln">            </span><span class="tag">&lt;servlet-name&gt;</span><span class="pln">spring</span><span class="tag">&lt;/servlet-name&gt;</span></li><li class="L3"><span class="pln">            </span><span class="tag">&lt;url-pattern&gt;</span><span class="pln">/</span><span class="tag">&lt;/url-pattern&gt;</span></li><li class="L4"><span class="pln">        </span><span class="tag">&lt;/servlet-mapping&gt;</span></li><li class="L5"><span class="pln">        </span><span class="com">&lt;!-- spring MVC config end--&gt;</span></li><li class="L6"><span class="pln">&nbsp;</span></li><li class="L7"><span class="pln">&nbsp;</span></li><li class="L8"><span class="pln">        </span><span class="com">&lt;!-- Spring监听器 --&gt;</span></li><li class="L9"><span class="pln">        </span><span class="tag">&lt;listener&gt;</span></li><li class="L0"><span class="pln">            </span><span class="tag">&lt;listener-class&gt;</span><span class="pln">org.springframework.web.context.ContextLoaderListener</span><span class="tag">&lt;/listener-class&gt;</span></li><li class="L1"><span class="pln">        </span><span class="tag">&lt;/listener&gt;</span></li><li class="L2"><span class="pln">&nbsp;</span></li><li class="L3"><span class="pln">        </span><span class="com">&lt;!--  字符集过滤  --&gt;</span></li><li class="L4"><span class="pln">        </span><span class="tag">&lt;filter&gt;</span></li><li class="L5"><span class="pln">            </span><span class="tag">&lt;filter-name&gt;</span><span class="pln">encodingFilter</span><span class="tag">&lt;/filter-name&gt;</span></li><li class="L6"><span class="pln">            </span><span class="tag">&lt;filter-class&gt;</span><span class="pln">org.springframework.web.filter.CharacterEncodingFilter</span><span class="tag">&lt;/filter-class&gt;</span></li><li class="L7"><span class="pln">            </span><span class="tag">&lt;init-param&gt;</span></li><li class="L8"><span class="pln">                </span><span class="tag">&lt;param-name&gt;</span><span class="pln">encoding</span><span class="tag">&lt;/param-name&gt;</span></li><li class="L9"><span class="pln">                </span><span class="tag">&lt;param-value&gt;</span><span class="pln">UTF-8</span><span class="tag">&lt;/param-value&gt;</span></li><li class="L0"><span class="pln">            </span><span class="tag">&lt;/init-param&gt;</span></li><li class="L1"><span class="pln">            </span><span class="tag">&lt;init-param&gt;</span></li><li class="L2"><span class="pln">                </span><span class="tag">&lt;param-name&gt;</span><span class="pln">forceEncoding</span><span class="tag">&lt;/param-name&gt;</span></li><li class="L3"><span class="pln">                </span><span class="tag">&lt;param-value&gt;</span><span class="pln">true</span><span class="tag">&lt;/param-value&gt;</span></li><li class="L4"><span class="pln">            </span><span class="tag">&lt;/init-param&gt;</span></li><li class="L5"><span class="pln">        </span><span class="tag">&lt;/filter&gt;</span></li><li class="L6"><span class="pln">        </span><span class="tag">&lt;filter-mapping&gt;</span></li><li class="L7"><span class="pln">            </span><span class="tag">&lt;filter-name&gt;</span><span class="pln">encodingFilter</span><span class="tag">&lt;/filter-name&gt;</span></li><li class="L8"><span class="pln">            </span><span class="tag">&lt;url-pattern&gt;</span><span class="pln">/*</span><span class="tag">&lt;/url-pattern&gt;</span></li><li class="L9"><span class="pln">        </span><span class="tag">&lt;/filter-mapping&gt;</span></li><li class="L0"><span class="pln">&nbsp;</span></li><li class="L1"><span class="tag">&lt;/web-app&gt;</span></li></ol></pre><div class="code-pretty-toolbar"><span class="title">XML</span><a href="javascript:void(0);" title="复制代码" class="tool clipboard"><i class="fa fa-files-o"></i></a><a href="javascript:void(0);" title="查看纯文本代码" class="tool view-source"><i class="fa fa-code"></i></a><a href="javascript:void(0);" title="返回代码高亮" class="tool back-to-pretty"><i class="fa fa-undo"></i></a><span class="msg"></span></div></div>
<p>完成上述Spring MVC和Spring的整合配置以后，下面在xmu.dblab.service这个包下面新建一个TestService接口，该接口文件代码内容如下：</p>
<div class="code-pretty-container"><pre class="prettyprint linenums lang-java prettyprinted" style=""><ol class="linenums"><li class="L0"><span class="kwd">package</span><span class="pln"> xmu</span><span class="pun">.</span><span class="pln">dblab</span><span class="pun">.</span><span class="pln">service</span><span class="pun">;</span></li><li class="L1"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">interface</span><span class="pln"> </span><span class="typ">TestService</span><span class="pln"> </span><span class="pun">{</span></li><li class="L2"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> test</span><span class="pun">();</span></li><li class="L3"><span class="pun">}</span></li></ol></pre><div class="code-pretty-toolbar"><span class="title">Java</span><a href="javascript:void(0);" title="复制代码" class="tool clipboard"><i class="fa fa-files-o"></i></a><a href="javascript:void(0);" title="查看纯文本代码" class="tool view-source"><i class="fa fa-code"></i></a><a href="javascript:void(0);" title="返回代码高亮" class="tool back-to-pretty"><i class="fa fa-undo"></i></a><span class="msg"></span></div></div>
<p>下面就可以编写TestServiceImpl，实现TestService接口并实现其test()方法， 代码如下：</p>
<div class="code-pretty-container"><pre class="prettyprint linenums lang-java prettyprinted" style=""><ol class="linenums"><li class="L0"><span class="kwd">package</span><span class="pln"> xmu</span><span class="pun">.</span><span class="pln">dblab</span><span class="pun">.</span><span class="pln">service</span><span class="pun">.</span><span class="pln">impl</span><span class="pun">;</span></li><li class="L1"><span class="pln">&nbsp;</span></li><li class="L2"><span class="kwd">import</span><span class="pln"> xmu</span><span class="pun">.</span><span class="pln">dblab</span><span class="pun">.</span><span class="pln">service</span><span class="pun">.</span><span class="typ">TestService</span><span class="pun">;</span></li><li class="L3"><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">stereotype</span><span class="pun">.</span><span class="typ">Service</span><span class="pun">;</span></li><li class="L4"><span class="pln">&nbsp;</span></li><li class="L5"><span class="com">/**</span></li><li class="L6"><span class="com"> * Created by linziyu</span></li><li class="L7"><span class="com"> * On 6/5/2018.16:43 PM</span></li><li class="L8"><span class="com"> */</span></li><li class="L9"><span class="lit">@Service</span></li><li class="L0"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">TestServiceImpl</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><span class="typ">TestService</span><span class="pln"> </span><span class="pun">{</span></li><li class="L1"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> test</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></li><li class="L2"><span class="pln">        </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"test"</span><span class="pun">;</span></li><li class="L3"><span class="pln">    </span><span class="pun">}</span></li><li class="L4"><span class="pun">}</span></li></ol></pre><div class="code-pretty-toolbar"><span class="title">Java</span><a href="javascript:void(0);" title="复制代码" class="tool clipboard"><i class="fa fa-files-o"></i></a><a href="javascript:void(0);" title="查看纯文本代码" class="tool view-source"><i class="fa fa-code"></i></a><a href="javascript:void(0);" title="返回代码高亮" class="tool back-to-pretty"><i class="fa fa-undo"></i></a><span class="msg"></span></div></div>
<p>然后，去修改之前已经创建的MainController类，修改后的效果如下：</p>
<div class="code-pretty-container"><pre class="prettyprint linenums lang-java prettyprinted" style=""><ol class="linenums"><li class="L0"><span class="kwd">package</span><span class="pln"> xmu</span><span class="pun">.</span><span class="pln">dblab</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">;</span></li><li class="L1"><span class="kwd">import</span><span class="pln"> xmu</span><span class="pun">.</span><span class="pln">dblab</span><span class="pun">.</span><span class="pln">service</span><span class="pun">.</span><span class="typ">TestService</span><span class="pun">;</span></li><li class="L2"><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">stereotype</span><span class="pun">.</span><span class="typ">Controller</span><span class="pun">;</span></li><li class="L3"><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">web</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">.</span><span class="pln">annotation</span><span class="pun">.</span><span class="typ">RequestMapping</span><span class="pun">;</span></li><li class="L4"><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">web</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">.</span><span class="pln">annotation</span><span class="pun">.</span><span class="typ">RequestMethod</span><span class="pun">;</span></li><li class="L5"><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">beans</span><span class="pun">.</span><span class="pln">factory</span><span class="pun">.</span><span class="pln">annotation</span><span class="pun">.</span><span class="typ">Autowired</span><span class="pun">;</span></li><li class="L6"><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">web</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">.</span><span class="pln">annotation</span><span class="pun">.</span><span class="typ">ResponseBody</span><span class="pun">;</span></li><li class="L7"><span class="pln">&nbsp;</span></li><li class="L8"><span class="pln">&nbsp;</span></li><li class="L9"><span class="com">/**</span></li><li class="L0"><span class="com"> * Created by linziyu</span></li><li class="L1"><span class="com"> * On 6/4/2018.16:28 PM</span></li><li class="L2"><span class="com"> */</span></li><li class="L3"><span class="lit">@Controller</span></li><li class="L4"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">MainController</span><span class="pln"> </span><span class="pun">{</span></li><li class="L5"><span class="pln">    </span><span class="lit">@Autowired</span></li><li class="L6"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">TestService</span><span class="pln"> testService</span><span class="pun">;</span></li><li class="L7"><span class="pln">&nbsp;</span></li><li class="L8"><span class="pln">    </span><span class="lit">@RequestMapping</span><span class="pun">(</span><span class="pln">value </span><span class="pun">=</span><span class="pln"> </span><span class="str">"test"</span><span class="pun">,</span><span class="pln"> method </span><span class="pun">=</span><span class="pln"> </span><span class="typ">RequestMethod</span><span class="pun">.</span><span class="pln">GET</span><span class="pun">)</span></li><li class="L9"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> test</span><span class="pun">(){</span></li><li class="L0"><span class="com">//        实际返回的是views/test.jsp ,spring-mvc.xml中配置过前后缀</span></li><li class="L1"><span class="pln">        </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"test"</span><span class="pun">;</span></li><li class="L2"><span class="pln">    </span><span class="pun">}</span></li><li class="L3"><span class="pln">    </span><span class="lit">@RequestMapping</span><span class="pun">(</span><span class="pln">value </span><span class="pun">=</span><span class="pln"> </span><span class="str">"springtest"</span><span class="pun">,</span><span class="pln"> method </span><span class="pun">=</span><span class="pln"> </span><span class="typ">RequestMethod</span><span class="pun">.</span><span class="pln">GET</span><span class="pun">)</span></li><li class="L4"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> springTest</span><span class="pun">(){</span></li><li class="L5"><span class="pln">        </span><span class="kwd">return</span><span class="pln"> testService</span><span class="pun">.</span><span class="pln">test</span><span class="pun">();</span></li><li class="L6"><span class="pln">    </span><span class="pun">}</span></li><li class="L7"><span class="pun">}</span></li></ol></pre><div class="code-pretty-toolbar"><span class="title">Java</span><a href="javascript:void(0);" title="复制代码" class="tool clipboard"><i class="fa fa-files-o"></i></a><a href="javascript:void(0);" title="查看纯文本代码" class="tool view-source"><i class="fa fa-code"></i></a><a href="javascript:void(0);" title="返回代码高亮" class="tool back-to-pretty"><i class="fa fa-undo"></i></a><span class="msg"></span></div></div>
<p>在上面代码中，我们定义了testService，@Autowired注释会自动帮我们进行匹配装载，找到testService的实现。<br>
按照之前介绍的编译打包方法，再次打包生成WebDemo.war文件，把Tomcat的“/usr/local/tomcat/webapps/”目录下原来的WebDemo.war删除（注意把webdemo文件夹也删除），把新打包得到的WebDemo.war文件复制到该目录下，再次打开浏览器，在地址栏中输入“http://localhost:9999/webdemo/springtest”，会出现如下所示效果：<br>
<img src="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/SpringMVC13.png" alt="" title=""><br>
可以看出，网页已经可以成功显示，说明Spring MVC和Spring的整合已经成功。</p>
<h2>实现Spring、Spring MVC和Mybatis三者的融合</h2>
<p>现在开始要通过网页程序对MySQL数据库进行操作。这里假设已经在Linux系统中安装了MySQL数据库，如果还没有安装，请参考《<a href="http://dblab.xmu.edu.cn/blog/install-mysql/" target="_blank">Ubuntu安装MySQL及常用操作</a>》进行安装。<br>
首先，进入Linux系统，打开一个终端（也就是进入shell命令环境），使用如下命令启动MySQL数据库：</p>
<div class="code-pretty-container"><pre class="prettyprint linenums lang-bash prettyprinted" style=""><ol class="linenums"><li class="L0"><span class="pln">service mysql start</span></li></ol></pre><div class="code-pretty-toolbar"><span class="title">Shell 命令</span><a href="javascript:void(0);" title="复制代码" class="tool clipboard"><i class="fa fa-files-o"></i></a><a href="javascript:void(0);" title="查看纯文本代码" class="tool view-source"><i class="fa fa-code"></i></a><a href="javascript:void(0);" title="返回代码高亮" class="tool back-to-pretty"><i class="fa fa-undo"></i></a><span class="msg"></span></div></div>
<p>然后，使用如下命令启动进入MySQL shell环境：</p>
<div class="code-pretty-container"><pre class="prettyprint linenums lang-bash prettyprinted" style=""><ol class="linenums"><li class="L0"><span class="pln">mysql -u root -p</span></li></ol></pre><div class="code-pretty-toolbar"><span class="title">Shell 命令</span><a href="javascript:void(0);" title="复制代码" class="tool clipboard"><i class="fa fa-files-o"></i></a><a href="javascript:void(0);" title="查看纯文本代码" class="tool view-source"><i class="fa fa-code"></i></a><a href="javascript:void(0);" title="返回代码高亮" class="tool back-to-pretty"><i class="fa fa-undo"></i></a><span class="msg"></span></div></div>
<p>系统会提示你输入数据库密码，然后，就会进入MySQL shell环境，接下来就可以使用SQL语句创建数据库和表，具体命令如下：</p>
<div class="code-pretty-container"><pre class="prettyprint linenums lang-mysql prettyprinted" style=""><ol class="linenums"><li class="L0"><span class="pln">mysql</span><span class="pun">&gt;</span><span class="pln"> create database web_demo</span><span class="pun">;</span></li><li class="L1"><span class="pln">mysql</span><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">use</span><span class="pln"> web_demo</span><span class="pun">;</span></li><li class="L2"><span class="pln">mysql</span><span class="pun">&gt;</span><span class="pln"> create table user</span><span class="pun">(</span></li><li class="L3"><span class="pln">     id </span><span class="kwd">int</span><span class="pun">(</span><span class="lit">20</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">not</span><span class="pln"> </span><span class="kwd">null</span><span class="pln"> auto_increment</span><span class="pun">,</span></li><li class="L4"><span class="pln">     username varchar</span><span class="pun">(</span><span class="lit">50</span><span class="pun">)</span><span class="pln"> </span><span class="pun">,</span></li><li class="L5"><span class="pln">     sex varchar</span><span class="pun">(</span><span class="lit">10</span><span class="pun">),</span></li><li class="L6"><span class="pln">     birthday date</span><span class="pun">,</span></li><li class="L7"><span class="pln">     address varchar</span><span class="pun">(</span><span class="lit">100</span><span class="pun">),</span></li><li class="L8"><span class="pln">     primary key</span><span class="pun">(</span><span class="pln">id</span><span class="pun">)</span></li><li class="L9"><span class="pln"> </span><span class="pun">);</span></li><li class="L0"><span class="pln">mysql</span><span class="pun">&gt;</span><span class="pln"> desc user</span><span class="pun">;</span></li><li class="L1"><span class="pln">mysql</span><span class="pun">&gt;</span><span class="pln">insert </span><span class="kwd">into</span><span class="pln"> user</span><span class="pun">(</span><span class="pln">id</span><span class="pun">,</span><span class="pln">username</span><span class="pun">,</span><span class="pln">sex</span><span class="pun">,</span><span class="pln">birthday</span><span class="pun">,</span><span class="pln">address</span><span class="pun">)</span><span class="pln"> values</span><span class="pun">(</span><span class="lit">1</span><span class="pun">,‘</span><span class="pln">linziyu</span><span class="pun">’,‘男’,</span><span class="str">'1978-12-22'</span><span class="pun">,</span><span class="str">'厦门大学'</span><span class="pun">);</span></li><li class="L2"><span class="pln">mysql</span><span class="pun">&gt;</span><span class="kwd">select</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> user</span><span class="pun">;</span></li></ol></pre><div class="code-pretty-toolbar"><span class="title">mysql</span><a href="javascript:void(0);" title="复制代码" class="tool clipboard"><i class="fa fa-files-o"></i></a><a href="javascript:void(0);" title="查看纯文本代码" class="tool view-source"><i class="fa fa-code"></i></a><a href="javascript:void(0);" title="返回代码高亮" class="tool back-to-pretty"><i class="fa fa-undo"></i></a><span class="msg"></span></div></div>
<p>查看user表的效果如下图所示：<br>
<img src="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/SpringMVC13b.png" alt="" title=""></p>
<p>如下图所示，构建相关目录和文件，和上面的步骤相比，这里新增的内容包括jdbc.properties、spring-mybatis.xml（上一步原来就有这个文件，这里补充了一些新的内容）、User.java、UserMapper.java、UserMapper.xml、UserService.java、UserServiceImpl.java、TestController.java。<br>
<img src="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/SpringMVC14.png" alt="" title=""></p>
<p>如果你觉得一步步创建文件比较麻烦，也可以直接到百度云盘下载源代码文件（<a href="https://pan.baidu.com/s/1o9P-2uIrH_cP3UkAyZovtQ" target="_blank">下载</a>），进入百度云盘以后，点击进入“WebDemo工程文件2”这个子目录，下载该目录下的WebDemo.rar压缩文件，然后解压缩即可。</p>
<p>(1)jdbc.properties文件<br>
jdbc.properties文件的内容如下：</p>
<pre><code>#数据源
jdbc.driver=com.mysql.jdbc.Driver
jdbc.url=jdbc:mysql://localhost:3306/web_demo?useUnicode=true&amp;characterEncoding=utf-8
jdbc.username=root
jdbc.password=123456

#初始化连接池连接数
initialSize=0

#连接池最大连接数
maxActive=20

#连接池最大空闲
maxIdle=20

#连接池最小空闲
minIdle=1

#最大等待时间
maxWait=60000
</code></pre>
<p>jdbc.properties文件设置了数据库连接的相关参数，jdbc.password是数据库密码，需要修改成你自己数据库的密码。</p>
<p>(2)spring-mybatis.xml文件<br>
spring-mybatis.xml（上一步原来就有这个文件，这里补充了一些新的内容），修改后的内容如下：</p>
<div class="code-pretty-container"><pre class="prettyprint linenums lang-xml prettyprinted" style=""><ol class="linenums"><li class="L0"><span class="tag">&lt;beans</span><span class="pln"> </span><span class="atn">xmlns</span><span class="pun">=</span><span class="atv">"http://www.springframework.org/schema/beans"</span></li><li class="L1"><span class="pln">       </span><span class="atn">xmlns:xsi</span><span class="pun">=</span><span class="atv">"http://www.w3.org/2001/XMLSchema-instance"</span><span class="pln"> </span><span class="atn">xmlns:p</span><span class="pun">=</span><span class="atv">"http://www.springframework.org/schema/p"</span></li><li class="L2"><span class="pln">       </span><span class="atn">xmlns:context</span><span class="pun">=</span><span class="atv">"http://www.springframework.org/schema/context"</span></li><li class="L3"><span class="pln">       </span><span class="atn">xmlns:mvc</span><span class="pun">=</span><span class="atv">"http://www.springframework.org/schema/mvc"</span></li><li class="L4"><span class="pln">       </span><span class="atn">xsi:schemaLocation</span><span class="pun">=</span><span class="atv">"http://www.springframework.org/schema/beans</span></li><li class="L5"><span class="atv">                        http://www.springframework.org/schema/beans/spring-beans-3.1.xsd</span></li><li class="L6"><span class="atv">                        http://www.springframework.org/schema/context</span></li><li class="L7"><span class="atv">                        http://www.springframework.org/schema/context/spring-context-3.1.xsd</span></li><li class="L8"><span class="atv">                        http://www.springframework.org/schema/mvc</span></li><li class="L9"><span class="atv">                        http://www.springframework.org/schema/mvc/spring-mvc-4.0.xsd"</span><span class="tag">&gt;</span></li><li class="L0"><span class="pln">&nbsp;</span></li><li class="L1"><span class="pln">    </span><span class="com">&lt;!-- 自动扫描 --&gt;</span></li><li class="L2"><span class="pln">    </span><span class="tag">&lt;context:component-scan</span><span class="pln"> </span><span class="atn">base-package</span><span class="pun">=</span><span class="atv">"xmu.dblab"</span><span class="tag">&gt;</span></li><li class="L3"><span class="pln">        </span><span class="com">&lt;!-- 扫描时跳过 @Controller 注解的JAVA类（控制器） --&gt;</span></li><li class="L4"><span class="pln">        </span><span class="tag">&lt;context:exclude-filter</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"annotation"</span><span class="pln"> </span><span class="atn">expression</span><span class="pun">=</span><span class="atv">"org.springframework.stereotype.Controller"</span><span class="tag">/&gt;</span></li><li class="L5"><span class="pln">    </span><span class="tag">&lt;/context:component-scan&gt;</span></li><li class="L6"><span class="pln">&nbsp;</span></li><li class="L7"><span class="pln">    </span><span class="com">&lt;!-- 加载配置文件 --&gt;</span></li><li class="L8"><span class="pln">    </span><span class="tag">&lt;context:property-placeholder</span><span class="pln"> </span><span class="atn">location</span><span class="pun">=</span><span class="atv">"classpath:/META-INF/jdbc.properties"</span><span class="pln"> </span><span class="tag">/&gt;</span></li><li class="L9"><span class="pln">&nbsp;</span></li><li class="L0"><span class="pln">    </span><span class="tag">&lt;bean</span><span class="pln"> </span><span class="atn">id</span><span class="pun">=</span><span class="atv">"dataSource"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"org.apache.commons.dbcp.BasicDataSource"</span><span class="pln"> </span><span class="atn">destroy-method</span><span class="pun">=</span><span class="atv">"close"</span><span class="tag">&gt;</span></li><li class="L1"><span class="pln">        </span><span class="tag">&lt;property</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"driverClassName"</span><span class="pln"> </span><span class="atn">value</span><span class="pun">=</span><span class="atv">"${jdbc.driver}"</span><span class="pln"> </span><span class="tag">/&gt;</span></li><li class="L2"><span class="pln">        </span><span class="tag">&lt;property</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"url"</span><span class="pln"> </span><span class="atn">value</span><span class="pun">=</span><span class="atv">"${jdbc.url}"</span><span class="pln"> </span><span class="tag">/&gt;</span></li><li class="L3"><span class="pln">        </span><span class="tag">&lt;property</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"username"</span><span class="pln"> </span><span class="atn">value</span><span class="pun">=</span><span class="atv">"${jdbc.username}"</span><span class="pln"> </span><span class="tag">/&gt;</span></li><li class="L4"><span class="pln">        </span><span class="tag">&lt;property</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"password"</span><span class="pln"> </span><span class="atn">value</span><span class="pun">=</span><span class="atv">"${jdbc.password}"</span><span class="pln"> </span><span class="tag">/&gt;</span></li><li class="L5"><span class="pln">        </span><span class="tag">&lt;property</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"initialSize"</span><span class="pln"> </span><span class="atn">value</span><span class="pun">=</span><span class="atv">"${initialSize}"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">  </span><span class="com">&lt;!--初始化连接池连接数--&gt;</span></li><li class="L6"><span class="pln">        </span><span class="tag">&lt;property</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"maxActive"</span><span class="pln"> </span><span class="atn">value</span><span class="pun">=</span><span class="atv">"${maxActive}"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">  </span><span class="com">&lt;!--连接池最大连接数--&gt;</span></li><li class="L7"><span class="pln">        </span><span class="tag">&lt;property</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"maxIdle"</span><span class="pln"> </span><span class="atn">value</span><span class="pun">=</span><span class="atv">"${maxIdle}"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">  </span><span class="com">&lt;!--连接池最大空闲--&gt;</span></li><li class="L8"><span class="pln">        </span><span class="tag">&lt;property</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"minIdle"</span><span class="pln"> </span><span class="atn">value</span><span class="pun">=</span><span class="atv">"${minIdle}"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">  </span><span class="com">&lt;!--连接池最小空闲--&gt;</span></li><li class="L9"><span class="pln">        </span><span class="tag">&lt;property</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"maxWait"</span><span class="pln"> </span><span class="atn">value</span><span class="pun">=</span><span class="atv">"${maxWait}"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">  </span><span class="com">&lt;!--连接最大等待时间--&gt;</span></li><li class="L0"><span class="pln">    </span><span class="tag">&lt;/bean&gt;</span></li><li class="L1"><span class="pln">&nbsp;</span></li><li class="L2"><span class="pln">&nbsp;</span></li><li class="L3"><span class="pln">    </span><span class="tag">&lt;bean</span><span class="pln"> </span><span class="atn">id</span><span class="pun">=</span><span class="atv">"sqlSessionFaction"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"org.mybatis.spring.SqlSessionFactoryBean"</span><span class="tag">&gt;</span></li><li class="L4"><span class="pln">        </span><span class="tag">&lt;property</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"dataSource"</span><span class="pln"> </span><span class="atn">ref</span><span class="pun">=</span><span class="atv">"dataSource"</span><span class="pln"> </span><span class="tag">/&gt;</span></li><li class="L5"><span class="pln">        </span><span class="com">&lt;!-- 自动扫描mapping.xml文件 --&gt;</span></li><li class="L6"><span class="pln">        </span><span class="tag">&lt;property</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"mapperLocations"</span><span class="pln"> </span><span class="atn">value</span><span class="pun">=</span><span class="atv">"classpath:/mapping/*.xml"</span><span class="pln"> </span><span class="tag">/&gt;</span></li><li class="L7"><span class="pln">    </span><span class="tag">&lt;/bean&gt;</span></li><li class="L8"><span class="pln">&nbsp;</span></li><li class="L9"><span class="pln">    </span><span class="tag">&lt;bean</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"org.mybatis.spring.mapper.MapperScannerConfigurer"</span><span class="tag">&gt;</span></li><li class="L0"><span class="pln">        </span><span class="tag">&lt;property</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"basePackage"</span><span class="pln"> </span><span class="atn">value</span><span class="pun">=</span><span class="atv">"xmu.dblab.mapping"</span><span class="pln"> </span><span class="tag">/&gt;</span></li><li class="L1"><span class="pln">        </span><span class="tag">&lt;property</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"sqlSessionFactoryBeanName"</span><span class="pln"> </span><span class="atn">value</span><span class="pun">=</span><span class="atv">"sqlSessionFaction"</span><span class="pln"> </span><span class="tag">/&gt;</span></li><li class="L2"><span class="pln">    </span><span class="tag">&lt;/bean&gt;</span></li><li class="L3"><span class="pln">&nbsp;</span></li><li class="L4"><span class="pln">    </span><span class="tag">&lt;bean</span><span class="pln"> </span><span class="atn">id</span><span class="pun">=</span><span class="atv">"transactionManager"</span><span class="pln"> </span><span class="atn">class</span><span class="pun">=</span><span class="atv">"org.springframework.jdbc.datasource.DataSourceTransactionManager"</span><span class="tag">&gt;</span></li><li class="L5"><span class="pln">        </span><span class="tag">&lt;property</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"dataSource"</span><span class="pln"> </span><span class="atn">ref</span><span class="pun">=</span><span class="atv">"dataSource"</span><span class="pln"> </span><span class="tag">/&gt;</span></li><li class="L6"><span class="pln">    </span><span class="tag">&lt;/bean&gt;</span></li><li class="L7"><span class="pln">&nbsp;</span></li><li class="L8"><span class="tag">&lt;/beans&gt;</span></li></ol></pre><div class="code-pretty-toolbar"><span class="title">XML</span><a href="javascript:void(0);" title="复制代码" class="tool clipboard"><i class="fa fa-files-o"></i></a><a href="javascript:void(0);" title="查看纯文本代码" class="tool view-source"><i class="fa fa-code"></i></a><a href="javascript:void(0);" title="返回代码高亮" class="tool back-to-pretty"><i class="fa fa-undo"></i></a><span class="msg"></span></div></div>
<p>从上面这个文件的内容可以看出，与上一步相比，这里新增了关于数据库配置文件jdbc.properties的设置，同时新增加了扫描mapping.xml文件的相关设置。</p>
<p>(3)User.java文件<br>
User.java文件为数据库web_demo中的user表定义了一个User对象，user表中的字段成为User对象中的属性。</p>
<div class="code-pretty-container"><pre class="prettyprint linenums lang-java prettyprinted" style=""><ol class="linenums"><li class="L0"><span class="kwd">package</span><span class="pln"> xmu</span><span class="pun">.</span><span class="pln">dblab</span><span class="pun">.</span><span class="pln">pojo</span><span class="pun">;</span></li><li class="L1"><span class="pln">&nbsp;</span></li><li class="L2"><span class="kwd">import</span><span class="pln"> java</span><span class="pun">.</span><span class="pln">util</span><span class="pun">.</span><span class="typ">Date</span><span class="pun">;</span></li><li class="L3"><span class="pln">&nbsp;</span></li><li class="L4"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">User</span><span class="pln"> </span><span class="pun">{</span></li><li class="L5"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Integer</span><span class="pln"> id</span><span class="pun">;</span></li><li class="L6"><span class="pln">&nbsp;</span></li><li class="L7"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> username</span><span class="pun">;</span></li><li class="L8"><span class="pln">&nbsp;</span></li><li class="L9"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">Date</span><span class="pln"> birthday</span><span class="pun">;</span></li><li class="L0"><span class="pln">&nbsp;</span></li><li class="L1"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> sex</span><span class="pun">;</span></li><li class="L2"><span class="pln">&nbsp;</span></li><li class="L3"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> address</span><span class="pun">;</span></li><li class="L4"><span class="pln">&nbsp;</span></li><li class="L5"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Integer</span><span class="pln"> getId</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></li><li class="L6"><span class="pln">        </span><span class="kwd">return</span><span class="pln"> id</span><span class="pun">;</span></li><li class="L7"><span class="pln">    </span><span class="pun">}</span></li><li class="L8"><span class="pln">&nbsp;</span></li><li class="L9"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> setId</span><span class="pun">(</span><span class="typ">Integer</span><span class="pln"> id</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></li><li class="L0"><span class="pln">        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">id </span><span class="pun">=</span><span class="pln"> id</span><span class="pun">;</span></li><li class="L1"><span class="pln">    </span><span class="pun">}</span></li><li class="L2"><span class="pln">&nbsp;</span></li><li class="L3"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> getUsername</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></li><li class="L4"><span class="pln">        </span><span class="kwd">return</span><span class="pln"> username</span><span class="pun">;</span></li><li class="L5"><span class="pln">    </span><span class="pun">}</span></li><li class="L6"><span class="pln">&nbsp;</span></li><li class="L7"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> setUsername</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> username</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></li><li class="L8"><span class="pln">        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">username </span><span class="pun">=</span><span class="pln"> username </span><span class="pun">==</span><span class="pln"> </span><span class="kwd">null</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="kwd">null</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> username</span><span class="pun">.</span><span class="pln">trim</span><span class="pun">();</span></li><li class="L9"><span class="pln">    </span><span class="pun">}</span></li><li class="L0"><span class="pln">&nbsp;</span></li><li class="L1"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Date</span><span class="pln"> getBirthday</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></li><li class="L2"><span class="pln">        </span><span class="kwd">return</span><span class="pln"> birthday</span><span class="pun">;</span></li><li class="L3"><span class="pln">    </span><span class="pun">}</span></li><li class="L4"><span class="pln">&nbsp;</span></li><li class="L5"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> setBirthday</span><span class="pun">(</span><span class="typ">Date</span><span class="pln"> birthday</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></li><li class="L6"><span class="pln">        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">birthday </span><span class="pun">=</span><span class="pln"> birthday</span><span class="pun">;</span></li><li class="L7"><span class="pln">    </span><span class="pun">}</span></li><li class="L8"><span class="pln">&nbsp;</span></li><li class="L9"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> getSex</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></li><li class="L0"><span class="pln">        </span><span class="kwd">return</span><span class="pln"> sex</span><span class="pun">;</span></li><li class="L1"><span class="pln">    </span><span class="pun">}</span></li><li class="L2"><span class="pln">&nbsp;</span></li><li class="L3"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> setSex</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> sex</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></li><li class="L4"><span class="pln">        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">sex </span><span class="pun">=</span><span class="pln"> sex </span><span class="pun">==</span><span class="pln"> </span><span class="kwd">null</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="kwd">null</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> sex</span><span class="pun">.</span><span class="pln">trim</span><span class="pun">();</span></li><li class="L5"><span class="pln">    </span><span class="pun">}</span></li><li class="L6"><span class="pln">&nbsp;</span></li><li class="L7"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> getAddress</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></li><li class="L8"><span class="pln">        </span><span class="kwd">return</span><span class="pln"> address</span><span class="pun">;</span></li><li class="L9"><span class="pln">    </span><span class="pun">}</span></li><li class="L0"><span class="pln">&nbsp;</span></li><li class="L1"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> setAddress</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> address</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></li><li class="L2"><span class="pln">        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">address </span><span class="pun">=</span><span class="pln"> address </span><span class="pun">==</span><span class="pln"> </span><span class="kwd">null</span><span class="pln"> </span><span class="pun">?</span><span class="pln"> </span><span class="kwd">null</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> address</span><span class="pun">.</span><span class="pln">trim</span><span class="pun">();</span></li><li class="L3"><span class="pln">    </span><span class="pun">}</span></li><li class="L4"><span class="pun">}</span></li></ol></pre><div class="code-pretty-toolbar"><span class="title">Java</span><a href="javascript:void(0);" title="复制代码" class="tool clipboard"><i class="fa fa-files-o"></i></a><a href="javascript:void(0);" title="查看纯文本代码" class="tool view-source"><i class="fa fa-code"></i></a><a href="javascript:void(0);" title="返回代码高亮" class="tool back-to-pretty"><i class="fa fa-undo"></i></a><span class="msg"></span></div></div>
<p>（4）UserMapper.java文件<br>
UserMapper.java文件的内容如下：</p>
<div class="code-pretty-container"><pre class="prettyprint linenums lang-java prettyprinted" style=""><ol class="linenums"><li class="L0"><span class="kwd">package</span><span class="pln"> xmu</span><span class="pun">.</span><span class="pln">dblab</span><span class="pun">.</span><span class="pln">mapping</span><span class="pun">;</span></li><li class="L1"><span class="pln">&nbsp;</span></li><li class="L2"><span class="kwd">import</span><span class="pln"> xmu</span><span class="pun">.</span><span class="pln">dblab</span><span class="pun">.</span><span class="pln">pojo</span><span class="pun">.</span><span class="typ">User</span><span class="pun">;</span></li><li class="L3"><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">apache</span><span class="pun">.</span><span class="pln">ibatis</span><span class="pun">.</span><span class="pln">annotations</span><span class="pun">.</span><span class="typ">Delete</span><span class="pun">;</span></li><li class="L4"><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">apache</span><span class="pun">.</span><span class="pln">ibatis</span><span class="pun">.</span><span class="pln">annotations</span><span class="pun">.</span><span class="typ">Insert</span><span class="pun">;</span></li><li class="L5"><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">apache</span><span class="pun">.</span><span class="pln">ibatis</span><span class="pun">.</span><span class="pln">annotations</span><span class="pun">.</span><span class="typ">ResultMap</span><span class="pun">;</span></li><li class="L6"><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">apache</span><span class="pun">.</span><span class="pln">ibatis</span><span class="pun">.</span><span class="pln">annotations</span><span class="pun">.</span><span class="typ">Select</span><span class="pun">;</span></li><li class="L7"><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">apache</span><span class="pun">.</span><span class="pln">ibatis</span><span class="pun">.</span><span class="pln">annotations</span><span class="pun">.</span><span class="typ">SelectKey</span><span class="pun">;</span></li><li class="L8"><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">apache</span><span class="pun">.</span><span class="pln">ibatis</span><span class="pun">.</span><span class="pln">annotations</span><span class="pun">.</span><span class="typ">Update</span><span class="pun">;</span></li><li class="L9"><span class="pln">&nbsp;</span></li><li class="L0"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">interface</span><span class="pln"> </span><span class="typ">UserMapper</span><span class="pln"> </span><span class="pun">{</span></li><li class="L1"><span class="pln">&nbsp;</span></li><li class="L2"><span class="pln">    </span><span class="kwd">void</span><span class="pln"> insert</span><span class="pun">(</span><span class="typ">User</span><span class="pln"> user</span><span class="pun">);</span></li><li class="L3"><span class="pln">&nbsp;</span></li><li class="L4"><span class="pln">    </span><span class="typ">User</span><span class="pln"> selectById</span><span class="pun">(</span><span class="typ">Integer</span><span class="pln"> id</span><span class="pun">);</span></li><li class="L5"><span class="pln">&nbsp;</span></li><li class="L6"><span class="pun">}</span></li></ol></pre><div class="code-pretty-toolbar"><span class="title">Java</span><a href="javascript:void(0);" title="复制代码" class="tool clipboard"><i class="fa fa-files-o"></i></a><a href="javascript:void(0);" title="查看纯文本代码" class="tool view-source"><i class="fa fa-code"></i></a><a href="javascript:void(0);" title="返回代码高亮" class="tool back-to-pretty"><i class="fa fa-undo"></i></a><span class="msg"></span></div></div>
<p>该文件定义了一个接口UserMapper，该接口里面定义了两个方法，即insert和selectById。<br>
（5）UserMapper.xml文件<br>
UserMapper.xml文件的内容如下：</p>
<div class="code-pretty-container"><pre class="prettyprint linenums lang-xml prettyprinted" style=""><ol class="linenums"><li class="L0"><span class="pun">&lt;?</span><span class="pln">xml version</span><span class="pun">=</span><span class="str">"1.0"</span><span class="pln"> encoding</span><span class="pun">=</span><span class="str">"UTF-8"</span><span class="pun">?&gt;</span></li><li class="L1"><span class="dec">&lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"</span></li><li class="L2"><span class="dec">        "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;</span></li><li class="L3"><span class="com">&lt;!-- 命名空间，可以对sql进行分类的一个管理 --&gt;</span></li><li class="L4"><span class="tag">&lt;mapper</span><span class="pln"> </span><span class="atn">namespace</span><span class="pun">=</span><span class="atv">"xmu.dblab.mapping.UserMapper"</span><span class="tag">&gt;</span></li><li class="L5"><span class="pln">    </span><span class="com">&lt;!-- 根据ID查询--&gt;</span></li><li class="L6"><span class="pln">    </span><span class="tag">&lt;select</span><span class="pln"> </span><span class="atn">id</span><span class="pun">=</span><span class="atv">"selectById"</span><span class="pln"> </span><span class="atn">parameterType</span><span class="pun">=</span><span class="atv">"int"</span><span class="pln"> </span><span class="atn">resultType</span><span class="pun">=</span><span class="atv">"xmu.dblab.pojo.User"</span><span class="tag">&gt;</span></li><li class="L7"><span class="pln">        select *</span></li><li class="L8"><span class="pln">        from user where id=#{id};</span></li><li class="L9"><span class="pln">    </span><span class="tag">&lt;/select&gt;</span></li><li class="L0"><span class="pln">    </span><span class="com">&lt;!-- 插入--&gt;</span></li><li class="L1"><span class="pln">    </span><span class="tag">&lt;insert</span><span class="pln"> </span><span class="atn">id</span><span class="pun">=</span><span class="atv">"insert"</span><span class="pln"> </span><span class="atn">parameterType</span><span class="pun">=</span><span class="atv">"xmu.dblab.pojo.User"</span><span class="tag">&gt;</span></li><li class="L2"><span class="pln">        insert into user</span></li><li class="L3"><span class="pln">        (id,username,birthday,sex,address)values(#{id},#{username},#{birthday},#{sex},#{address});</span></li><li class="L4"><span class="pln">    </span><span class="tag">&lt;/insert&gt;</span></li><li class="L5"><span class="tag">&lt;/mapper&gt;</span></li></ol></pre><div class="code-pretty-toolbar"><span class="title">XML</span><a href="javascript:void(0);" title="复制代码" class="tool clipboard"><i class="fa fa-files-o"></i></a><a href="javascript:void(0);" title="查看纯文本代码" class="tool view-source"><i class="fa fa-code"></i></a><a href="javascript:void(0);" title="返回代码高亮" class="tool back-to-pretty"><i class="fa fa-undo"></i></a><span class="msg"></span></div></div>
<p>UserMapper.xml文件是和UserMapper.java文件对应的，在UserMapper.xml文件中，必须对UserMapper.java文件中定义的接口方法进行描述，使其和具体的SQL语句绑定。<br>
（6）UserService.java文件<br>
UserService.java文件的内容如下：</p>
<div class="code-pretty-container"><pre class="prettyprint linenums lang-java prettyprinted" style=""><ol class="linenums"><li class="L0"><span class="kwd">package</span><span class="pln"> xmu</span><span class="pun">.</span><span class="pln">dblab</span><span class="pun">.</span><span class="pln">service</span><span class="pun">;</span></li><li class="L1"><span class="pln">&nbsp;</span></li><li class="L2"><span class="kwd">import</span><span class="pln"> xmu</span><span class="pun">.</span><span class="pln">dblab</span><span class="pun">.</span><span class="pln">pojo</span><span class="pun">.</span><span class="typ">User</span><span class="pun">;</span></li><li class="L3"><span class="pln">&nbsp;</span></li><li class="L4"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">interface</span><span class="pln"> </span><span class="typ">UserService</span><span class="pln"> </span><span class="pun">{</span></li><li class="L5"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> insert</span><span class="pun">(</span><span class="typ">User</span><span class="pln"> user</span><span class="pun">);</span></li><li class="L6"><span class="pun">}</span></li><li class="L7"><span class="pln">&nbsp;</span></li></ol></pre><div class="code-pretty-toolbar"><span class="title">Java</span><a href="javascript:void(0);" title="复制代码" class="tool clipboard"><i class="fa fa-files-o"></i></a><a href="javascript:void(0);" title="查看纯文本代码" class="tool view-source"><i class="fa fa-code"></i></a><a href="javascript:void(0);" title="返回代码高亮" class="tool back-to-pretty"><i class="fa fa-undo"></i></a><span class="msg"></span></div></div>
<p>UserService.java文件中定义了一个接口UserService，并定义了接口中可以被上层的控制层调用的所有方法。</p>
<p>（7）UserServiceImpl.java文件<br>
UserServiceImpl.java文件的内容如下：</p>
<div class="code-pretty-container"><pre class="prettyprint linenums lang-java prettyprinted" style=""><ol class="linenums"><li class="L0"><span class="kwd">package</span><span class="pln"> xmu</span><span class="pun">.</span><span class="pln">dblab</span><span class="pun">.</span><span class="pln">service</span><span class="pun">.</span><span class="pln">impl</span><span class="pun">;</span></li><li class="L1"><span class="pln">&nbsp;</span></li><li class="L2"><span class="kwd">import</span><span class="pln"> xmu</span><span class="pun">.</span><span class="pln">dblab</span><span class="pun">.</span><span class="pln">pojo</span><span class="pun">.</span><span class="typ">User</span><span class="pun">;</span></li><li class="L3"><span class="kwd">import</span><span class="pln"> xmu</span><span class="pun">.</span><span class="pln">dblab</span><span class="pun">.</span><span class="pln">mapping</span><span class="pun">.</span><span class="typ">UserMapper</span><span class="pun">;</span></li><li class="L4"><span class="kwd">import</span><span class="pln"> xmu</span><span class="pun">.</span><span class="pln">dblab</span><span class="pun">.</span><span class="pln">service</span><span class="pun">.</span><span class="typ">UserService</span><span class="pun">;</span></li><li class="L5"><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">beans</span><span class="pun">.</span><span class="pln">factory</span><span class="pun">.</span><span class="pln">annotation</span><span class="pun">.</span><span class="typ">Autowired</span><span class="pun">;</span></li><li class="L6"><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">stereotype</span><span class="pun">.</span><span class="typ">Service</span><span class="pun">;</span></li><li class="L7"><span class="pln">&nbsp;</span></li><li class="L8"><span class="com">/**</span></li><li class="L9"><span class="com"> * Created by linziyu</span></li><li class="L0"><span class="com"> * on 6/17/2018.</span></li><li class="L1"><span class="com"> */</span></li><li class="L2"><span class="lit">@Service</span></li><li class="L3"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">UserServiceImpl</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><span class="typ">UserService</span><span class="pln"> </span><span class="pun">{</span></li><li class="L4"><span class="pln">&nbsp;</span></li><li class="L5"><span class="pln">    </span><span class="lit">@Autowired</span></li><li class="L6"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">UserMapper</span><span class="pln"> userMapper</span><span class="pun">;</span></li><li class="L7"><span class="pln">&nbsp;</span></li><li class="L8"><span class="pln">    </span><span class="lit">@Override</span></li><li class="L9"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> insert</span><span class="pun">(</span><span class="typ">User</span><span class="pln"> user</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></li><li class="L0"><span class="pln">        userMapper</span><span class="pun">.</span><span class="pln">insert</span><span class="pun">(</span><span class="pln">user</span><span class="pun">);</span></li><li class="L1"><span class="pln">    </span><span class="pun">}</span></li><li class="L2"><span class="pun">}</span></li></ol></pre><div class="code-pretty-toolbar"><span class="title">Java</span><a href="javascript:void(0);" title="复制代码" class="tool clipboard"><i class="fa fa-files-o"></i></a><a href="javascript:void(0);" title="查看纯文本代码" class="tool view-source"><i class="fa fa-code"></i></a><a href="javascript:void(0);" title="返回代码高亮" class="tool back-to-pretty"><i class="fa fa-undo"></i></a><span class="msg"></span></div></div>
<p>UserServiceImpl.java文件是和UserService.java文件对应的，在UserServiceImpl.java文件中，需要给出UserService.java文件中定义的接口中的相关方法的具体实现。</p>
<p>（8）TestController.java文件<br>
TestController.java文件的内容如下：</p>
<div class="code-pretty-container"><pre class="prettyprint linenums lang-java prettyprinted" style=""><ol class="linenums"><li class="L0"><span class="kwd">package</span><span class="pln"> xmu</span><span class="pun">.</span><span class="pln">dblab</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">;</span></li><li class="L1"><span class="kwd">import</span><span class="pln"> xmu</span><span class="pun">.</span><span class="pln">dblab</span><span class="pun">.</span><span class="pln">pojo</span><span class="pun">.</span><span class="typ">User</span><span class="pun">;</span></li><li class="L2"><span class="kwd">import</span><span class="pln"> xmu</span><span class="pun">.</span><span class="pln">dblab</span><span class="pun">.</span><span class="pln">service</span><span class="pun">.</span><span class="typ">UserService</span><span class="pun">;</span></li><li class="L3"><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">stereotype</span><span class="pun">.</span><span class="typ">Controller</span><span class="pun">;</span></li><li class="L4"><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">web</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">.</span><span class="pln">annotation</span><span class="pun">.</span><span class="typ">RequestMapping</span><span class="pun">;</span></li><li class="L5"><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">web</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">.</span><span class="pln">annotation</span><span class="pun">.</span><span class="typ">RequestMethod</span><span class="pun">;</span></li><li class="L6"><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">beans</span><span class="pun">.</span><span class="pln">factory</span><span class="pun">.</span><span class="pln">annotation</span><span class="pun">.</span><span class="typ">Autowired</span><span class="pun">;</span></li><li class="L7"><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">web</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">.</span><span class="pln">annotation</span><span class="pun">.</span><span class="typ">ResponseBody</span><span class="pun">;</span></li><li class="L8"><span class="pln">&nbsp;</span></li><li class="L9"><span class="pln">&nbsp;</span></li><li class="L0"><span class="com">/**</span></li><li class="L1"><span class="com"> * Created by linziyu</span></li><li class="L2"><span class="com"> * On 6/17/2018.16:28 PM</span></li><li class="L3"><span class="com"> */</span></li><li class="L4"><span class="lit">@Controller</span></li><li class="L5"><span class="lit">@RequestMapping</span><span class="pun">(</span><span class="str">"/mybatistest"</span><span class="pun">)</span></li><li class="L6"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">TestController</span><span class="pln"> </span><span class="pun">{</span></li><li class="L7"><span class="pln">    </span><span class="lit">@Autowired</span></li><li class="L8"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">UserService</span><span class="pln"> userService</span><span class="pun">;</span></li><li class="L9"><span class="pln">&nbsp;</span></li><li class="L0"><span class="pln">    </span><span class="lit">@RequestMapping</span><span class="pun">(</span><span class="pln">value </span><span class="pun">=</span><span class="pln"> </span><span class="str">"insertoneuser"</span><span class="pun">)</span></li><li class="L1"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="lit">@ResponseBody</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> insertoneuser</span><span class="pun">(){</span></li><li class="L2"><span class="pln">        </span><span class="typ">User</span><span class="pln"> user </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">User</span><span class="pun">();</span></li><li class="L3"><span class="pln">        user</span><span class="pun">.</span><span class="pln">setId</span><span class="pun">(</span><span class="lit">2</span><span class="pun">);</span></li><li class="L4"><span class="pln">        user</span><span class="pun">.</span><span class="pln">setUsername</span><span class="pun">(</span><span class="str">"林子雨"</span><span class="pun">);</span></li><li class="L5"><span class="pln">        user</span><span class="pun">.</span><span class="pln">setAddress</span><span class="pun">(</span><span class="str">"厦门大学"</span><span class="pun">);</span></li><li class="L6"><span class="pln">        userService</span><span class="pun">.</span><span class="pln">insert</span><span class="pun">(</span><span class="pln">user</span><span class="pun">);</span></li><li class="L7"><span class="pln">        </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"success"</span><span class="pun">;</span></li><li class="L8"><span class="pln">    </span><span class="pun">}</span></li><li class="L9"><span class="pun">}</span></li></ol></pre><div class="code-pretty-toolbar"><span class="title">Java</span><a href="javascript:void(0);" title="复制代码" class="tool clipboard"><i class="fa fa-files-o"></i></a><a href="javascript:void(0);" title="查看纯文本代码" class="tool view-source"><i class="fa fa-code"></i></a><a href="javascript:void(0);" title="返回代码高亮" class="tool back-to-pretty"><i class="fa fa-undo"></i></a><span class="msg"></span></div></div>
<p>按照TestController.java文件的定义，当在浏览器中输入网址“http://localhost:9999/webdemo/mybatistest/insertoneuser”的时候，就会向MySQL数据库的web_demo中的user表中插入一条记录。</p>
<p>按照上面给出的8个文件的内容，构建好工程目录和文件，然后，就可以按照前面介绍的方法，对工程进行编译打包，得到WebDemo.war。到“/usr/local/tomcat/webapps”目录下，把原来已经存在的WebDemo.war删除（记得同时删除WebDemo和webdemo文件夹），把本步骤刚刚打包得到的新的WebDemo.war文件复制到“/usr/local/tomcat/webapps”目录下。<br>
然后，在Linux系统中打开浏览器，在浏览器中输入网址“http://localhost:9999/webdemo/mybatistest/insertoneuser”，回车，就会向MySQL数据库的web_demo中的user表中插入一条记录，并在网页中显示success，如下图所示：<br>
<img src="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/SpringMVC15.png" alt="" title=""><br>
为了验证确实已经有一条新的记录被插入到了MySQL数据库中，可以再次回到MySQL Shell环境中，输入如下命令查看：</p>
<div class="code-pretty-container"><pre class="prettyprint linenums lang-mysql prettyprinted" style=""><ol class="linenums"><li class="L0"><span class="pln">mysql</span><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">select</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="kwd">from</span><span class="pln"> user</span><span class="pun">;</span></li></ol></pre><div class="code-pretty-toolbar"><span class="title">mysql</span><a href="javascript:void(0);" title="复制代码" class="tool clipboard"><i class="fa fa-files-o"></i></a><a href="javascript:void(0);" title="查看纯文本代码" class="tool view-source"><i class="fa fa-code"></i></a><a href="javascript:void(0);" title="返回代码高亮" class="tool back-to-pretty"><i class="fa fa-undo"></i></a><span class="msg"></span></div></div>
<p>如果能够看到新增的记录（如下图所示），就说明执行成功了。<br>
<img src="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/SpringMVC16.png" alt="" title=""></p>
<h2>把后端数据提交给网页显示</h2>
<p>下面又需要对一些代码进行修改。如果你觉得一步步创建文件比较麻烦，也可以直接到百度云盘下载源代码文件（<a href="https://pan.baidu.com/s/1o9P-2uIrH_cP3UkAyZovtQ" target="_blank">下载</a>），进入百度云盘以后，点击进入“WebDemo工程文件3”这个子目录，下载该目录下的WebDemo.rar压缩文件，然后解压缩即可。</p>
<p>首先，修改UserServiceImpl.java文件和UserService.java文件，增加一个方法 selectById，也就是根据用户id来查找用户信息。<br>
修改后的UserService.java文件内容如下：</p>
<div class="code-pretty-container"><pre class="prettyprint linenums lang-java prettyprinted" style=""><ol class="linenums"><li class="L0"><span class="kwd">package</span><span class="pln"> xmu</span><span class="pun">.</span><span class="pln">dblab</span><span class="pun">.</span><span class="pln">service</span><span class="pun">;</span></li><li class="L1"><span class="pln">&nbsp;</span></li><li class="L2"><span class="kwd">import</span><span class="pln"> xmu</span><span class="pun">.</span><span class="pln">dblab</span><span class="pun">.</span><span class="pln">pojo</span><span class="pun">.</span><span class="typ">User</span><span class="pun">;</span></li><li class="L3"><span class="pln">&nbsp;</span></li><li class="L4"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">interface</span><span class="pln"> </span><span class="typ">UserService</span><span class="pln"> </span><span class="pun">{</span></li><li class="L5"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> insert</span><span class="pun">(</span><span class="typ">User</span><span class="pln"> user</span><span class="pun">);</span></li><li class="L6"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">User</span><span class="pln"> selectById</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> userId</span><span class="pun">);</span></li><li class="L7"><span class="pun">}</span></li><li class="L8"><span class="pln">&nbsp;</span></li></ol></pre><div class="code-pretty-toolbar"><span class="title">Java</span><a href="javascript:void(0);" title="复制代码" class="tool clipboard"><i class="fa fa-files-o"></i></a><a href="javascript:void(0);" title="查看纯文本代码" class="tool view-source"><i class="fa fa-code"></i></a><a href="javascript:void(0);" title="返回代码高亮" class="tool back-to-pretty"><i class="fa fa-undo"></i></a><span class="msg"></span></div></div>
<p>修改后的UserServiceImpl.java文件内容如下：</p>
<div class="code-pretty-container"><pre class="prettyprint linenums lang-java prettyprinted" style=""><ol class="linenums"><li class="L0"><span class="kwd">package</span><span class="pln"> xmu</span><span class="pun">.</span><span class="pln">dblab</span><span class="pun">.</span><span class="pln">service</span><span class="pun">.</span><span class="pln">impl</span><span class="pun">;</span></li><li class="L1"><span class="pln">&nbsp;</span></li><li class="L2"><span class="kwd">import</span><span class="pln"> xmu</span><span class="pun">.</span><span class="pln">dblab</span><span class="pun">.</span><span class="pln">pojo</span><span class="pun">.</span><span class="typ">User</span><span class="pun">;</span></li><li class="L3"><span class="kwd">import</span><span class="pln"> xmu</span><span class="pun">.</span><span class="pln">dblab</span><span class="pun">.</span><span class="pln">mapping</span><span class="pun">.</span><span class="typ">UserMapper</span><span class="pun">;</span></li><li class="L4"><span class="kwd">import</span><span class="pln"> xmu</span><span class="pun">.</span><span class="pln">dblab</span><span class="pun">.</span><span class="pln">service</span><span class="pun">.</span><span class="typ">UserService</span><span class="pun">;</span></li><li class="L5"><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">beans</span><span class="pun">.</span><span class="pln">factory</span><span class="pun">.</span><span class="pln">annotation</span><span class="pun">.</span><span class="typ">Autowired</span><span class="pun">;</span></li><li class="L6"><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">stereotype</span><span class="pun">.</span><span class="typ">Service</span><span class="pun">;</span></li><li class="L7"><span class="pln">&nbsp;</span></li><li class="L8"><span class="com">/**</span></li><li class="L9"><span class="com"> * Created by linziyu</span></li><li class="L0"><span class="com"> * on 6/17/2018.</span></li><li class="L1"><span class="com"> */</span></li><li class="L2"><span class="lit">@Service</span></li><li class="L3"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">UserServiceImpl</span><span class="pln"> </span><span class="kwd">implements</span><span class="pln"> </span><span class="typ">UserService</span><span class="pln"> </span><span class="pun">{</span></li><li class="L4"><span class="pln">&nbsp;</span></li><li class="L5"><span class="pln">    </span><span class="lit">@Autowired</span></li><li class="L6"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">UserMapper</span><span class="pln"> userMapper</span><span class="pun">;</span></li><li class="L7"><span class="pln">&nbsp;</span></li><li class="L8"><span class="pln">    </span><span class="lit">@Override</span></li><li class="L9"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> insert</span><span class="pun">(</span><span class="typ">User</span><span class="pln"> user</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></li><li class="L0"><span class="pln">        userMapper</span><span class="pun">.</span><span class="pln">insert</span><span class="pun">(</span><span class="pln">user</span><span class="pun">);</span></li><li class="L1"><span class="pln">    </span><span class="pun">}</span></li><li class="L2"><span class="pln">&nbsp;</span></li><li class="L3"><span class="pln">    </span><span class="lit">@Override</span></li><li class="L4"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">User</span><span class="pln"> selectById</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> userId</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></li><li class="L5"><span class="pln">        </span><span class="kwd">return</span><span class="pln"> userMapper</span><span class="pun">.</span><span class="pln">selectById</span><span class="pun">(</span><span class="pln">userId</span><span class="pun">);</span></li><li class="L6"><span class="pln">    </span><span class="pun">}</span></li><li class="L7"><span class="pun">}</span></li></ol></pre><div class="code-pretty-toolbar"><span class="title">Java</span><a href="javascript:void(0);" title="复制代码" class="tool clipboard"><i class="fa fa-files-o"></i></a><a href="javascript:void(0);" title="查看纯文本代码" class="tool view-source"><i class="fa fa-code"></i></a><a href="javascript:void(0);" title="返回代码高亮" class="tool back-to-pretty"><i class="fa fa-undo"></i></a><span class="msg"></span></div></div>
<p>然后，修改TestController.java文件，增加一个getoneuser方法。<br>
修改后的TestController.java文件的内容如下：</p>
<div class="code-pretty-container"><pre class="prettyprint linenums lang-java prettyprinted" style=""><ol class="linenums"><li class="L0"><span class="kwd">package</span><span class="pln"> xmu</span><span class="pun">.</span><span class="pln">dblab</span><span class="pun">.</span><span class="pln">controller</span><span class="pun">;</span></li><li class="L1"><span class="kwd">import</span><span class="pln"> xmu</span><span class="pun">.</span><span class="pln">dblab</span><span class="pun">.</span><span class="pln">pojo</span><span class="pun">.</span><span class="typ">User</span><span class="pun">;</span></li><li class="L2"><span class="kwd">import</span><span class="pln"> xmu</span><span class="pun">.</span><span class="pln">dblab</span><span class="pun">.</span><span class="pln">service</span><span class="pun">.</span><span class="typ">UserService</span><span class="pun">;</span></li><li class="L3"><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">stereotype</span><span class="pun">.</span><span class="typ">Controller</span><span class="pun">;</span></li><li class="L4"><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">web</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">.</span><span class="pln">annotation</span><span class="pun">.</span><span class="typ">RequestMapping</span><span class="pun">;</span></li><li class="L5"><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">web</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">.</span><span class="pln">annotation</span><span class="pun">.</span><span class="typ">RequestMethod</span><span class="pun">;</span></li><li class="L6"><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">beans</span><span class="pun">.</span><span class="pln">factory</span><span class="pun">.</span><span class="pln">annotation</span><span class="pun">.</span><span class="typ">Autowired</span><span class="pun">;</span></li><li class="L7"><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">web</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">.</span><span class="pln">annotation</span><span class="pun">.</span><span class="typ">ResponseBody</span><span class="pun">;</span></li><li class="L8"><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">web</span><span class="pun">.</span><span class="pln">servlet</span><span class="pun">.</span><span class="typ">ModelAndView</span><span class="pun">;</span></li><li class="L9"><span class="pln">&nbsp;</span></li><li class="L0"><span class="com">/**</span></li><li class="L1"><span class="com"> * Created by linziyu</span></li><li class="L2"><span class="com"> * On 6/17/2018.16:28 PM</span></li><li class="L3"><span class="com"> */</span></li><li class="L4"><span class="lit">@Controller</span></li><li class="L5"><span class="lit">@RequestMapping</span><span class="pun">(</span><span class="str">"/mybatistest"</span><span class="pun">)</span></li><li class="L6"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">TestController</span><span class="pln"> </span><span class="pun">{</span></li><li class="L7"><span class="pln">    </span><span class="lit">@Autowired</span></li><li class="L8"><span class="pln">    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">UserService</span><span class="pln"> userService</span><span class="pun">;</span></li><li class="L9"><span class="pln">&nbsp;</span></li><li class="L0"><span class="pln">    </span><span class="lit">@RequestMapping</span><span class="pun">(</span><span class="pln">value </span><span class="pun">=</span><span class="pln"> </span><span class="str">"insertoneuser"</span><span class="pun">)</span></li><li class="L1"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="lit">@ResponseBody</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> insertoneuser</span><span class="pun">(){</span></li><li class="L2"><span class="pln">        </span><span class="typ">User</span><span class="pln"> user </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">User</span><span class="pun">();</span></li><li class="L3"><span class="pln">        user</span><span class="pun">.</span><span class="pln">setId</span><span class="pun">(</span><span class="lit">2</span><span class="pun">);</span></li><li class="L4"><span class="pln">        user</span><span class="pun">.</span><span class="pln">setUsername</span><span class="pun">(</span><span class="str">"林子雨"</span><span class="pun">);</span></li><li class="L5"><span class="pln">        user</span><span class="pun">.</span><span class="pln">setAddress</span><span class="pun">(</span><span class="str">"厦门大学"</span><span class="pun">);</span></li><li class="L6"><span class="pln">        userService</span><span class="pun">.</span><span class="pln">insert</span><span class="pun">(</span><span class="pln">user</span><span class="pun">);</span></li><li class="L7"><span class="pln">        </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"success"</span><span class="pun">;</span></li><li class="L8"><span class="pln">    </span><span class="pun">}</span></li><li class="L9"><span class="pln">        </span><span class="lit">@RequestMapping</span><span class="pun">(</span><span class="pln">value </span><span class="pun">=</span><span class="pln"> </span><span class="str">"getoneuser"</span><span class="pun">)</span></li><li class="L0"><span class="pln">    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">ModelAndView</span><span class="pln"> getoneuser</span><span class="pun">(){</span></li><li class="L1"><span class="pln">        </span><span class="typ">User</span><span class="pln"> user </span><span class="pun">=</span><span class="pln"> userService</span><span class="pun">.</span><span class="pln">selectById</span><span class="pun">(</span><span class="lit">1</span><span class="pun">);</span></li><li class="L2"><span class="pln">        </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ModelAndView</span><span class="pun">(</span><span class="str">"getoneuser"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"user"</span><span class="pun">,</span><span class="pln"> user</span><span class="pun">);</span></li><li class="L3"><span class="pln">    </span><span class="pun">}</span></li><li class="L4"><span class="pun">}</span></li></ol></pre><div class="code-pretty-toolbar"><span class="title">Java</span><a href="javascript:void(0);" title="复制代码" class="tool clipboard"><i class="fa fa-files-o"></i></a><a href="javascript:void(0);" title="查看纯文本代码" class="tool view-source"><i class="fa fa-code"></i></a><a href="javascript:void(0);" title="返回代码高亮" class="tool back-to-pretty"><i class="fa fa-undo"></i></a><span class="msg"></span></div></div>
<p>从修改后的TestController.java可以看出，当在浏览器中输入网址“http://localhost:9999/webdemo/mybatistest/getoneuser”时，会调用getoneuser方法，从数据库中查找id为1的用户的信息，并把返回的数据封装在ModelAndView对象中。在ModelAndView(“getoneuser”, “user”, user)中，括号中的第1个参数”getoneuser”是viewName，也就是视图的名称，也就是要显示的网页，实际上根据spring-mvc.xml中的配置，它会被解析成“/WEB-INF/views/getoneuser.jsp”；第2个参数是modelName，也就是模型的名称，也就是要提交给网页的对象的名称是”user”，第3个参数是具体的值。如果看成是一个&lt;key,value&gt;键值对，那么，key是“user”，value是user对象，在网页中可以根据这个key来获取到user对象。</p>
<p>在WebDemo工程的“webapp/WEB-INF/views”目录下新增一个文件getoneuser.jsp，如下图所示。<br>
<img src="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/SpringMVC17.png" alt="" title=""><br>
getoneuser.jsp的内容如下：</p>
<div class="code-pretty-container"><pre class="prettyprint linenums lang-java prettyprinted" style=""><ol class="linenums"><li class="L0"><span class="pun">&lt;%--</span></li><li class="L1"><span class="pln">  </span><span class="typ">Created</span><span class="pln"> by </span><span class="typ">IntelliJ</span><span class="pln"> IDEA</span><span class="pun">.</span></li><li class="L2"><span class="pln">  </span><span class="typ">User</span><span class="pun">:</span><span class="pln"> linziyu</span></li><li class="L3"><span class="pln">  </span><span class="typ">Date</span><span class="pun">:</span><span class="pln"> </span><span class="lit">18</span><span class="pun">-</span><span class="lit">6</span><span class="pun">-</span><span class="lit">18</span></li><li class="L4"><span class="pln">  </span><span class="typ">Time</span><span class="pun">:</span><span class="pln"> </span><span class="pun">??</span><span class="lit">3</span><span class="pun">:</span><span class="lit">13</span></li><li class="L5"><span class="pln">  </span><span class="typ">To</span><span class="pln"> change </span><span class="kwd">this</span><span class="pln"> template use </span><span class="typ">File</span><span class="pln"> </span><span class="pun">|</span><span class="pln"> </span><span class="typ">Settings</span><span class="pln"> </span><span class="pun">|</span><span class="pln"> </span><span class="typ">File</span><span class="pln"> </span><span class="typ">Templates</span><span class="pun">.</span></li><li class="L6"><span class="pun">--%&gt;</span></li><li class="L7"><span class="pun">&lt;%@</span><span class="pln"> page contentType</span><span class="pun">=</span><span class="str">"text/html;charset=UTF-8"</span><span class="pln"> language</span><span class="pun">=</span><span class="str">"java"</span><span class="pln"> </span><span class="pun">%&gt;</span></li><li class="L8"><span class="pun">&lt;%@</span><span class="pln"> taglib prefix</span><span class="pun">=</span><span class="str">"c"</span><span class="pln"> uri</span><span class="pun">=</span><span class="str">"http://java.sun.com/jsp/jstl/core"</span><span class="pun">%&gt;</span></li><li class="L9"><span class="pun">&lt;!</span><span class="pln">DOCTYPE html PUBLIC </span><span class="str">"-//W3C//DTD HTML 4.01 Transitional//EN"</span><span class="pln"> </span><span class="str">"http://www.w3.org/TR/html4/loose.dtd"</span><span class="pun">&gt;</span></li><li class="L0"><span class="pun">&lt;</span><span class="pln">html</span><span class="pun">&gt;</span></li><li class="L1"><span class="pun">&lt;</span><span class="pln">head</span><span class="pun">&gt;</span></li><li class="L2"><span class="pln">    </span><span class="pun">&lt;</span><span class="pln">title</span><span class="pun">&gt;</span><span class="typ">WebDemo</span><span class="pun">&lt;/</span><span class="pln">title</span><span class="pun">&gt;</span></li><li class="L3"><span class="pun">&lt;/</span><span class="pln">head</span><span class="pun">&gt;</span></li><li class="L4"><span class="pun">&lt;</span><span class="pln">body</span><span class="pun">&gt;</span></li><li class="L5"><span class="typ">WebDemo</span><span class="pun">&lt;</span><span class="pln">br</span><span class="pun">&gt;</span></li><li class="L6"><span class="pun">&lt;</span><span class="pln">c</span><span class="pun">:</span><span class="kwd">if</span><span class="pln"> test</span><span class="pun">=</span><span class="str">"${requestScope.user!=null}"</span><span class="pun">&gt;</span></li><li class="L7"><span class="pln">    </span><span class="pun">&lt;</span><span class="pln">br</span><span class="pun">&gt;</span><span class="pln">id</span><span class="pun">:</span><span class="pln">$</span><span class="pun">{</span><span class="pln">requestScope</span><span class="pun">.</span><span class="pln">user</span><span class="pun">.</span><span class="pln">id</span><span class="pun">}</span></li><li class="L8"><span class="pln">    </span><span class="pun">&lt;</span><span class="pln">br</span><span class="pun">&gt;</span><span class="pln">username</span><span class="pun">:</span><span class="pln">$</span><span class="pun">{</span><span class="pln">requestScope</span><span class="pun">.</span><span class="pln">user</span><span class="pun">.</span><span class="pln">username</span><span class="pun">}</span></li><li class="L9"><span class="pln">    </span><span class="pun">&lt;</span><span class="pln">br</span><span class="pun">&gt;</span><span class="pln">sex</span><span class="pun">:</span><span class="pln">$</span><span class="pun">{</span><span class="pln">requestScope</span><span class="pun">.</span><span class="pln">user</span><span class="pun">.</span><span class="pln">sex</span><span class="pun">}</span></li><li class="L0"><span class="pln">    </span><span class="pun">&lt;</span><span class="pln">br</span><span class="pun">&gt;</span><span class="pln">birthday</span><span class="pun">:</span><span class="pln">$</span><span class="pun">{</span><span class="pln">requestScope</span><span class="pun">.</span><span class="pln">user</span><span class="pun">.</span><span class="pln">birthday</span><span class="pun">}</span></li><li class="L1"><span class="pln">    </span><span class="pun">&lt;</span><span class="pln">br</span><span class="pun">&gt;</span><span class="pln">address</span><span class="pun">:</span><span class="pln">$</span><span class="pun">{</span><span class="pln">requestScope</span><span class="pun">.</span><span class="pln">user</span><span class="pun">.</span><span class="pln">address</span><span class="pun">}</span></li><li class="L2"><span class="pln">    </span><span class="pun">&lt;</span><span class="pln">br</span><span class="pun">&gt;</span></li><li class="L3"><span class="pun">&lt;/</span><span class="pln">c</span><span class="pun">:</span><span class="kwd">if</span><span class="pun">&gt;</span></li><li class="L4"><span class="pln">&nbsp;</span></li><li class="L5"><span class="pun">&lt;/</span><span class="pln">body</span><span class="pun">&gt;</span></li><li class="L6"><span class="pun">&lt;/</span><span class="pln">html</span><span class="pun">&gt;</span></li></ol></pre><div class="code-pretty-toolbar"><span class="title">Java</span><a href="javascript:void(0);" title="复制代码" class="tool clipboard"><i class="fa fa-files-o"></i></a><a href="javascript:void(0);" title="查看纯文本代码" class="tool view-source"><i class="fa fa-code"></i></a><a href="javascript:void(0);" title="返回代码高亮" class="tool back-to-pretty"><i class="fa fa-undo"></i></a><span class="msg"></span></div></div>
<p>最后，就可以按照前面介绍的方法，对工程进行编译打包，得到WebDemo.war。到“/usr/local/tomcat/webapps”目录下，把原来已经存在的WebDemo.war删除（记得同时删除WebDemo和webdemo文件夹），把本步骤刚刚打包得到的新的WebDemo.war文件复制到“/usr/local/tomcat/webapps”目录下。<br>
然后，在Linux系统中打开浏览器，在浏览器中输入网址“http://localhost:9999/webdemo/mybatistest/getoneuser”，回车，就可以看到如下效果：<br>
<img src="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/SpringMVC18.png" alt="" title=""></p>
			</div><!-- .entry-content -->

	<footer class="entry-footer">
		<div class="entry-author">
			<div class="author-title">本文作者</div>
			
		<div class="author-avatar"><img src="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/11-150x150.jpg" alt="林子雨老师" class="avatar avatar-thumbnail wp-user-avatar wp-user-avatar-thumbnail alignnone photo"></div>
		<div class="author-info">
			<p class="author-name"><a href="http://dblab.xmu.edu.cn/blog/author/ziyulin/">林子雨老师</a></p>
			<p class="author-desc">致力于打造中国高校首个“数字教师”</p>
			<p class="author-contact"><a href="http://www.cs.xmu.edu.cn/linziyu" target="_blank" title="个人主页" class="homepage"><i class="fa fa-home"></i>www.cs.xmu.edu.cn/linziyu</a><a href="http://weibo.com/ziyulin" target="_blank" title="微博" class="weibo"><i class="fa fa-weibo"></i>ziyulin</a><i class="fa fa-envelope"></i><span class="envelope">nc.ude.umx@niluyiz</span></p>
		</div>
			</div>
		<div class="entry-info">
			<span class="permalink"><i class="fa fa-external-link"></i> <a href="http://dblab.xmu.edu.cn/blog/2204-2/" title="Spring+SpringMVC+Mybatis开发简明教程">http://dblab.xmu.edu.cn/blog/2204-2/</a></span><span class="category"><i class="fa fa-folder-open-o"></i> <a href="http://dblab.xmu.edu.cn/blog/category/big-data/" rel="category tag">大数据</a></span>		</div>
		<div class="yarpp-related yarpp-related-none">
</div>
	</footer><!-- .entry-footer -->
</article><!-- #post-## -->			</div>
</div><!-- .row -->

	<div class="row">
		<div class="col-sm-3"></div>
		<div class="col-sm-9 site-footer">
			© 2014 <a href="http://dblab.xmu.edu.cn/">厦大数据库实验室</a>
					</div>
	</div>
</div><!-- .container -->
<link rel="stylesheet" id="yarppRelatedCss-css" href="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/related.css" type="text/css" media="all">
<script type="text/javascript" src="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/prettify.js.下载"></script>
<script type="text/javascript" src="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/power.js.下载"></script>
<script type="text/javascript" src="./Spring+SpringMVC+Mybatis开发简明教程_厦大数据库实验室博客_files/wp-embed.min.js.下载"></script>

<div class="back-to-top" id="back-to-top" title="嗖的就上去了！" style="display: block;"><span><i class="fa fa-chevron-up"></i></span></div></body></html>