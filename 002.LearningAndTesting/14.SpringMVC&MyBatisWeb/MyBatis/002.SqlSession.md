# MyBatis 体系结构

## SqlSessionFactory

SqlSessionFactory是MyBatis中的关键对象。它是单个数据库映射关系经过编译后的内存镜像。可以通过SqlSessionFactoryBuilder对象来获取。SqlSessionFactoryBuilder 可以从XML配置文件或一个预先定制好的Configuration实例构建SqlSessionFactory。

## SqlSession

关键对象

类似与JDBC中的Connection

底层封装了JDBC连接

每个线程都应该有它自己的sqlsession实例。

sqlsession的示例不能被共享，也是线程不安全的，绝不能将sqlsession示例的引用放在一个类的静态字段，甚至实例字段中。

也绝不能将sqlsession实例的引用放在任何类型的管理范围中，比如servlet的HttpSession中。

使用完SqlSession之后，关闭很重要，应确保用 finally来关闭他。