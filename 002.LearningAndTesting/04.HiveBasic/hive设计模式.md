# hive设计模式

```js

```

## 按时间划分的表-某表每日同步一次

```sql
create table tb_name () partitioned by (int day)
```

## 关于分区

- 对于上面那个按天分区的表,查询的时候就可以比较方便

    ```sql
    select * from tb_name where day=20171023;
    ```

- 每个分区对应一个文件,过多分区可能超出hdfs管理能力,所以看情况,比如`时间粒度选到周,月`之类的

- `分区可以有多个分区条件`其中例如`有两个分区,分区使用不同的维度`
    一个用户表,可以先`partitioned by (birth_range int , addr string)`
- 分区:`不应该导致太多的分区和文件目录`,且`每个目录下的文件足够大`
- 如果不能够找到好的,大小合适的分区方式`考虑使用分桶数据存储`

## 唯一键和标准化

- 